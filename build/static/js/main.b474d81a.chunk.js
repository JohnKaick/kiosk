(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{249:function(e,a,t){e.exports=t(441)},254:function(e,a,t){},441:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(65),l=t.n(r);t(254),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(256);var i=t(14),c=t(15),m=t(17),d=t(16),u=t(18),s=t(472),p=t(466),h=t(463),g=t(440),E=function(e){return o.a.createElement("h2",{style:{padding:20}},"Bem vindo SmartListening")},f=t(469),b=t(452),C=t(467),v=t(462),I=t(139),y=t(442),O=t(456),S=t(455),w=t(142),k=t.n(w),P=k.a.create({baseURL:"http://localhost:7000/api"}),j="http://localhost:7000";function D(e){return k.a.get("/keepalive/keepalive/"+e)}function R(){return P.get("/produto/listar")}function T(e){return P.put("/produto/cadastrar",{nome:e.nome,descricao:e.descricao,valor:e.valor,categoriaId:e.categoriaId})}function z(e,a){return P.post("/produto/upload/"+a,e)}var _=t(21),N=t(454),A=t(453);var G=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={open:!1,observacao:""},t.close=function(){t.setState({open:!1})},t.onOpen=function(){t.setState({open:!0})},t.onChange=function(e){t.setState(Object(_.a)({},e.target.name,e.target.value))},t.onCadastrar=function(){var e,a,n,o;(e=t.props.produto,a=t.props.distribuidorId,n=t.props.clienteId,o=t.state.observacao,P.put("/carrinho/cadastrar",{distribuidorId:a,clienteId:n,produtoId:e._id,nome:e.nome,descricao:e.descricao,valor:e.valor,imagemPath:e.imagemPath,quantidade:e.quantidade,observacao:o})).then(function(){t.close(),t.props.onQtsDefault(),t.props.onCarrinho()})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(N.a,{open:this.state.open,trigger:this.props.children,onOpen:this.onOpen,size:"small"},o.a.createElement(C.a,{icon:"shopping cart",content:"Observa\xe7\xe3o"}),o.a.createElement(N.a.Content,null,o.a.createElement(A.a,null,o.a.createElement(A.a.TextArea,{label:"Deseja escrever alguma observa\xe7\xe3o ao pedido do seu produto?",name:"observacao",value:this.state.observacao,onChange:this.onChange}))),o.a.createElement(N.a.Actions,null,o.a.createElement(v.a,{onClick:this.close},o.a.createElement(I.a,{name:"arrow left"})," Voltar"),o.a.createElement(v.a,{primary:!0,onClick:this.onCadastrar},o.a.createElement(I.a,{name:"shopping cart"})," Adicionar")))}}]),a}(o.a.Component),x=Object(f.a)(G),V=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={distribuidorId:null,clienteId:null,produtos:[],grupos:[],nome:"",capa:null,online:!0},t.onGrupoSelected=function(e,a){var n=a.value;t.state.grupos.forEach(function(e){e.categoria===n&&t.setState({produtos:e.produtos})})},t.onMais=function(e){var a=t.state.produtos,n=[];a.forEach(function(a){a._id===e?(a.quantidade+=1,n.push(a)):n.push(a)}),t.setState({produtos:n})},t.onMenos=function(e){var a=t.state.produtos,n=[];a.forEach(function(a){a._id===e&&a.quantidade>1?(a.quantidade-=1,n.push(a)):n.push(a)}),t.setState({produtos:n})},t.onKeep=function(){D(t.state.distribuidorId).then(function(e){e.data;console.log("time =")}).catch(function(e){console.log(e)})},t.onCarrinho=function(){var e=t.state,a=e.distribuidorId,n=e.clienteId;t.props.history.push("/distribuidor/"+a+"/cliente/"+n+"/carrinho")},t.onQtsDefault=function(){var e=t.state.produtos,a=[];e.forEach(function(e){e.quantidade=1,a.push(e)}),t.setState({produtos:a})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e,a=this,t=this.props.match.params,n=t.distribuidorId,o=t.clienteId;(e=n,P.get("/produto/listar/distribuidor/"+e)).then(function(e){var t=e.data.distribuidor;return console.log("grupos",e.data.grupos),a.setState({produtos:e.data.produtos,grupos:e.data.grupos,nome:t.nome,capa:t.imagemPath?"".concat(j,"/").concat(t.imagemPath):null,distribuidorId:n,clienteId:o}),D(n)}).then(function(e){var t=e.data.time;(new Date).getTime()-t<8e3?(1,a.setState({online:!0})):(0,a.setState({online:!0}))}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,a=this.state,t=(a.online,a.produtos),n=a.capa,r=a.nome,l=a.distribuidorId,i=a.clienteId,c=a.grupos;return o.a.createElement(b.a,null,o.a.createElement(C.a,{as:"h2",style:{marginTop:20}},r,o.a.createElement(v.a,{primary:!0,floated:"right",onClick:function(){return e.onCarrinho()}},o.a.createElement(I.a,{name:"shopping cart"})," Meu carrinho")),o.a.createElement(y.a,{src:n,fluid:!0}),o.a.createElement("div",{style:{paddingTop:20,paddingBottom:20}},o.a.createElement("small",{style:{fontSize:20}},"Produtos:"),o.a.createElement(O.a,{button:!0,style:{float:"right"},placeholder:"Todos",selection:!0,options:c.map(function(e,a){return{key:e.categoria,text:e.categoria,value:e.categoria}}),onChange:this.onGrupoSelected})),o.a.createElement(S.a.Group,{divided:!0,unstackable:!0},(t||[]).map(function(a){return o.a.createElement(S.a,null,o.a.createElement(S.a.Content,null,o.a.createElement(S.a.Image,{size:"tiny",src:a.imagemPath?"".concat(j,"/").concat(a.imagemPath):"https://react.semantic-ui.com/images/wireframe/square-image.png"}),o.a.createElement(S.a.Header,{style:{padding:10}},a.nome,o.a.createElement("br",null),o.a.createElement("small",null,"R$ ",a.valor)),o.a.createElement(S.a.Description,null,o.a.createElement("p",null,a.descricao)),o.a.createElement(S.a.Extra,null,o.a.createElement("div",{style:{marginBottom:10,float:"right"}},o.a.createElement(x,{onQtsDefault:e.onQtsDefault,onCarrinho:e.onCarrinho,produto:a,distribuidorId:l,clienteId:i},o.a.createElement(v.a,{circular:!0,color:"blue",icon:"shopping cart"},o.a.createElement(I.a,{name:"shopping cart"})," Add"))),o.a.createElement(v.a.Group,null,o.a.createElement(v.a,{basic:!0,color:"blue",icon:"minus",onClick:function(){return e.onMenos(a._id)}}),o.a.createElement(v.a,{basic:!0,color:"blue"},a.quantidade),o.a.createElement(v.a,{basic:!0,color:"blue",icon:"plus",onClick:function(){return e.onMais(a._id)}})))))})))}}]),a}(o.a.Component),F=Object(f.a)(V),q=t(460),U=t(458);var B=t(35),M=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).close=t.close.bind(Object(B.a)(Object(B.a)(t))),t.onOpen=t.onOpen.bind(Object(B.a)(Object(B.a)(t))),t.state={open:!1},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"close",value:function(){this.setState({open:!1}),this.props.onPedido()}},{key:"onOpen",value:function(){this.setState({open:!0})}},{key:"render",value:function(){return o.a.createElement(N.a,{open:this.state.open,trigger:this.props.children,onOpen:this.onOpen,basic:!0,size:"small"},o.a.createElement(C.a,{icon:"check",content:"Seu pedido foi entregue."}),o.a.createElement(N.a.Actions,null,o.a.createElement(v.a,{basic:!0,color:"blue",inverted:!0,onClick:this.close},o.a.createElement(I.a,{name:"arrow left"})," Voltar ao menu")))}}]),a}(o.a.Component),H=Object(f.a)(M),L=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={carrinho:[],valorTotal:0,distribuidorId:null,clienteId:null},t.get=function(){var e=t.props.match.params,a=e.distribuidorId,n=e.clienteId;(function(e,a){return P.get("/carrinho/listar/"+e+"/"+a)})(a,n).then(function(e){var o=e.data,r=0;o.forEach(function(e){r+=e.valorTotal}),t.setState({carrinho:e.data,valorTotal:r,distribuidorId:a,clienteId:n})}).catch(function(e){console.log(e)})},t.onRemover=function(e){var a=t.state;(function(e,a,t){return P.post("/carrinho/remover",{produtoId:e,distribuidorId:a,clienteId:t})})(e,a.distribuidorId,a.clienteId).then(function(){t.get()}).catch(function(e){console.log(e)})},t.onMenu=function(){var e=t.state,a=e.distribuidorId,n=e.clienteId;t.props.history.push("/distribuidor/"+a+"/cliente/"+n)},t.onPedido=function(){var e=t.state;(function(e,a){return P.put("/pedido/cadastrar",{distribuidorId:e,clienteId:a})})(e.distribuidorId,e.clienteId).then(function(){t.onMenu()}).catch(function(e){console.log(e)})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.get()}},{key:"render",value:function(){var e=this;return o.a.createElement(b.a,null,o.a.createElement(C.a,{as:"h2",style:{padding:10}},o.a.createElement(v.a,{primary:!0,circular:!0,size:"medium",floated:"left",icon:"angle left",onClick:this.onMenu}),"Meu carrinho"),0==this.state.carrinho.length?o.a.createElement(q.a,{info:!0},o.a.createElement(q.a.Header,null,"Sem produtos no carrinho.")):o.a.createElement("div",null,(this.state.carrinho||[]).map(function(a){return o.a.createElement(U.a,null,o.a.createElement(U.a.Item,null,o.a.createElement("div",null,o.a.createElement(v.a,{circular:!0,basic:!0,icon:"cancel",color:"red",floated:"right",onClick:function(){return e.onRemover(a.produtoId)}})),o.a.createElement(y.a,{avatar:!0,src:a.imagemPath?"".concat(j,"/").concat(a.imagemPath):"https://react.semantic-ui.com/images/wireframe/square-image.png"}),o.a.createElement(U.a.Content,null,o.a.createElement(U.a.Header,null,a.nome),o.a.createElement(U.a.Description,null,o.a.createElement("p",null,"Quantidade: ",a.quantidade,o.a.createElement("br",null),"Valor: R$ ",a.valorTotal,o.a.createElement("br",null),a.observacao&&o.a.createElement("div",null,"OBS: ",a.observacao))))))}),o.a.createElement(C.a,{as:"h3",style:{padding:10}},"Total: R$ ",this.state.valorTotal),o.a.createElement(H,{onPedido:this.onPedido},o.a.createElement(v.a,{fluid:!0,positive:!0,floated:"right"},"Pedir agora"))))}}]),a}(o.a.Component),$=Object(f.a)(L),Q=t(107),J=t(20);function W(){return P.get("/distribuidor/listar")}function K(e){return P.get("/distribuidor/listar/detalhe/"+e)}function X(e,a){return P.post("/distribuidor/upload/"+a,e)}function Y(e){return P.post("/distribuidor/remover/produto/"+e.id,{produtoId:e.produtoId})}function Z(e,a,t){return P.post("/distribuidor/upload/produto/"+a+"/"+t,e)}function ee(e){return P.get("/distribuidor/listar/cliente/"+e)}var ae=t(470),te=t(464),ne=t(465),oe=t(451);function re(){return P.get("/categoria-produto/listar")}function le(){return P.get("/categoria-distribuidor/listar")}function ie(){return P.get("/categoria-pagamento/listar")}var ce=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={modalOpen:!1,distribuidorId:null,tabSelecione:!0,tabCadastro:!1,msgError:null,produtos:[],id:null,nome:"",descricao:"",valor:null,imagemPath:null,categoria:null,nvNome:"",nvDescricao:"",nvValor:null,nvCategorias:[],nvCategoria:null,nvImagemPath:null,nvImagem:null,nvFile:null},t.onOpen=function(){re().then(function(e){return t.setState({nvCategorias:e.data||[]}),R()}).then(function(e){t.setState({produtos:e.data||[],modalOpen:!0,distribuidorId:t.props.id,id:null})})},t.onClose=function(){t.setState({modalOpen:!1})},t.onChange=function(e){t.setState(Object(_.a)({},e.target.name,e.target.value))},t.onCategoriaSelected=function(e,a){var n=a.value;t.setState({nvCategoria:n})},t.onChangeImagem=function(e){var a=e.target.files[0];t.setState({nvImagem:URL.createObjectURL(a),nvFile:a})},t.onTab=function(){t.setState({tabSelecione:!t.state.tabSelecione,tabCadastro:!t.state.tabCadastro})},t.onSelect=function(e){t.setState({id:e._id,nome:e.nome,categoria:e.categoria.nome,imagemPath:e.imagemPath})},t.onSalvar=function(){var e,a=t.state,n=a.distribuidorId,o=a.tabCadastro,r=a.tabSelecione,l=a.id,i=a.nvNome,c=a.nvValor,m=a.nvDescricao,d=a.nvCategoria,u=a.nvFile,s=(a.nvImagem,a.nome),p=a.valor,h=a.descricao,g=a.imagemPath,E=null,f=null;o&&T({nome:i,valor:c,descricao:m,categoriaId:d}).then(function(e){if(f=e.data,u){var a=new FormData;return a.append("file",u),z(a,e.data)}return null}).then(function(e){return E=e.data,a={id:n,produtoId:f},P.post("/distribuidor/cadastrar/produto/"+a.id,{produtoId:a.produtoId});var a}).then(function(e){t.onClose(),t.setState({msgError:null}),t.props.getProdutos({nome:i,valor:c,descricao:m,imagemPath:E||null})}),r&&(console.log(n),console.log(l),console.log(p),console.log(h),(e={id:n,produtoId:l,valor:p,descricao:h},P.post("/distribuidor/selecionar/produto/"+e.id,{produtoId:e.produtoId,valor:e.valor,descricao:e.descricao})).then(function(e){t.onClose(),t.setState({msgError:null}),t.props.getProdutos({nome:s,valor:p,descricao:h,imagemPath:g})}))},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.tabSelecione,n=a.tabCadastro,r=a.msgError,l=a.produtos,i=a.id,c=a.nome,m=a.descricao,d=a.valor,u=a.imagemPath,s=a.categoria,p=a.nvNome,h=a.nvDescricao,g=a.nvValor,E=a.nvCategorias,f=a.nvImagem;return o.a.createElement(N.a,{trigger:this.props.children,open:this.state.modalOpen,onClose:this.onClose,onOpen:this.onOpen},o.a.createElement(I.a,{link:!0,size:"large",name:"cancel",style:{float:"right",margin:"10px"},onClick:this.onClose}),o.a.createElement(N.a.Header,null,"Produto"),o.a.createElement(N.a.Content,null,o.a.createElement(ae.a,ae.a.onlyMobile,o.a.createElement(v.a.Group,{floated:"left"},t?o.a.createElement(v.a,{onClick:this.onTab,positive:!0},"Selecione produto"):o.a.createElement(v.a,{onClick:this.onTab},"Selecione produto"),n?o.a.createElement(v.a,{onClick:this.onTab,positive:!0},"Cadastre produto"):o.a.createElement(v.a,{onClick:this.onTab},"Cadastre produto")),t&&o.a.createElement(N.a.Description,{style:{paddingTop:50}},i?o.a.createElement(te.a,null,o.a.createElement(A.a,{onSubmit:this.onSalvar},o.a.createElement(C.a,{as:"h3"},"Detalhes do produto"),o.a.createElement(y.a,{src:u?"".concat(j,"/").concat(u):"https://react.semantic-ui.com/images/wireframe/square-image.png",size:"small",floated:"right",rounded:!0}),o.a.createElement("p",null,"Nome: ",c),o.a.createElement("p",null,"Categoria: ",s),o.a.createElement(A.a.Input,{width:6,floated:"left",type:"number",label:"Valor",name:"valor",value:d,onChange:this.onChange}),o.a.createElement(A.a.TextArea,{label:"Descri\xe7\xe3o",name:"descricao",value:m,onChange:this.onChange}),o.a.createElement("br",null))):o.a.createElement("div",null,0!==l.length?o.a.createElement(te.a.Group,null,(l||[]).map(function(a,t){return o.a.createElement(te.a,{key:t,style:{cursor:"pointer"},onClick:function(){return e.onSelect(a)}},a.nome)})):o.a.createElement(C.a,{h:"5"},"Nenhum produto cadastrado"))),n&&o.a.createElement(N.a.Description,{style:{paddingTop:50}},o.a.createElement(A.a,null,o.a.createElement(ne.a,null,o.a.createElement(ne.a.Column,null,o.a.createElement(y.a,{wrapped:!0,size:"small",src:f||"https://react.semantic-ui.com/images/wireframe/square-image.png"}),o.a.createElement("br",null),o.a.createElement(v.a,{onClick:function(){return e.fileInput.click()}},"Adicionar imagem"),o.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onChangeImagem,ref:function(a){e.fileInput=a}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(A.a.Field,{control:oe.a,label:"Categoria",name:"nvCategoria",options:E.map(function(e){return{key:e._id,text:e.nome,value:e._id}}),onChange:this.onCategoriaSelected}),o.a.createElement(A.a.Input,{label:"Nome",name:"nvNome",value:p,onChange:this.onChange}),o.a.createElement(A.a.Input,{type:"number",label:"Valor",name:"nvValor",value:g,onChange:this.onChange}),o.a.createElement(A.a.TextArea,{label:"Descri\xe7\xe3o",name:"nvDescricao",value:h,onChange:this.onChange})))))),o.a.createElement(ae.a,{minWidth:ae.a.onlyTablet.minWidth},o.a.createElement(v.a.Group,{floated:"left"},t?o.a.createElement(v.a,{onClick:this.onTab,positive:!0},"Selecione produto j\xe1 cadastrado"):o.a.createElement(v.a,{onClick:this.onTab},"Selecione produto j\xe1 cadastrado"),n?o.a.createElement(v.a,{onClick:this.onTab,positive:!0},"Cadastre um novo produto"):o.a.createElement(v.a,{onClick:this.onTab},"Cadastre um novo produto")),t&&o.a.createElement(N.a.Description,{style:{paddingTop:50}},o.a.createElement(ne.a,null,o.a.createElement(ne.a.Column,{width:5},0!==l.length?o.a.createElement(te.a.Group,null,(l||[]).map(function(a,t){return o.a.createElement("div",null,i===a._id?o.a.createElement(te.a,{tertiary:!0,key:t,style:{cursor:"pointer"},onClick:function(){return e.onSelect(a)}},a.nome):o.a.createElement(te.a,{key:t,style:{cursor:"pointer"},onClick:function(){return e.onSelect(a)}},a.nome))})):o.a.createElement(C.a,{h:"5"},"Nenhum produto cadastrado")),o.a.createElement(ne.a.Column,{width:11},i&&o.a.createElement(te.a,null,o.a.createElement(A.a,{onSubmit:this.onSalvar},o.a.createElement(C.a,{as:"h3"},"Detalhes do produto"),o.a.createElement(y.a,{src:u?"".concat(j,"/").concat(u):"https://react.semantic-ui.com/images/wireframe/square-image.png",size:"small",floated:"right",rounded:!0}),o.a.createElement("p",null,"Nome: ",c),o.a.createElement("p",null,"Categoria: ",s),o.a.createElement(A.a.Input,{width:6,floated:"left",type:"number",label:"Valor",name:"valor",value:d,onChange:this.onChange}),o.a.createElement(A.a.TextArea,{label:"Descri\xe7\xe3o",name:"descricao",value:m,onChange:this.onChange}),o.a.createElement("br",null)))))),n&&o.a.createElement(N.a.Description,{style:{paddingTop:50}},o.a.createElement(A.a,{onSubmit:this.onSalvar},o.a.createElement(ne.a,null,o.a.createElement(ne.a.Column,{width:4},o.a.createElement(y.a,{wrapped:!0,size:"medium",src:f||"https://react.semantic-ui.com/images/wireframe/square-image.png"}),o.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onChangeImagem,ref:function(a){e.fileInput=a}}),o.a.createElement(v.a,{attached:"bottom",onClick:function(){return e.fileInput.click()}},"Adicionar foto")),o.a.createElement(ne.a.Column,{width:12},o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Field,{width:8,control:oe.a,label:"Categoria",name:"nvCategoria",options:E.map(function(e){return{key:e._id,text:e.nome,value:e._id}}),onChange:this.onCategoriaSelected}),o.a.createElement(A.a.Input,{width:8,type:"number",label:"Valor",name:"nvValor",value:g,onChange:this.onChange})),o.a.createElement(A.a.Input,{label:"Nome",name:"nvNome",value:p,onChange:this.onChange}),o.a.createElement(A.a.TextArea,{label:"Descri\xe7\xe3o",name:"nvDescricao",value:h,onChange:this.onChange}))))))),o.a.createElement(N.a.Actions,null,r&&o.a.createElement(q.a,{floated:"left",compact:!0,warning:!0},r),o.a.createElement(v.a,{primary:!0,type:"submit",onClick:this.onSalvar},o.a.createElement(I.a,{name:"plus"}),"Salvar")))}}]),a}(o.a.Component),me=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={modalOpen:!1,id:null,distribuidorId:null,nome:"",descricao:"",valor:null,imagemPath:null,categoria:null,categorias:[],categoriaId:null},t.onOpen=function(){t.setState(Object(J.a)({modalOpen:!0},t.props.produto,{id:t.props.produto._id,distribuidorId:t.props.distribuidorId,categoriaId:t.props.produto.categoria._id})),re().then(function(e){t.setState({categorias:e.data||[]})})},t.onClose=function(){t.setState({modalOpen:!1})},t.onChange=function(e){t.setState(Object(_.a)({},e.target.name,e.target.value))},t.onCategoriaSelected=function(e,a){var n=a.value;t.setState({categoria:n})},t.onSalvar=function(){var e,a=t.state,n=a.id,o=a.nome,r=a.valor,l=a.descricao,i=a.categoria,c=a.categoriaId,m=a.distribuidorId;(e={id:m,produtoId:n,nome:o,descricao:l,valor:r,categoriaId:i||c},P.post("/distribuidor/editar/produto/"+e.id,{nome:e.nome,descricao:e.descricao,valor:e.valor,categoriaId:e.categoriaId,produtoId:e.produtoId})).then(function(){t.onClose(),t.props.get()})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state,a=(e.id,e.nome),t=e.valor,n=e.descricao,r=e.categorias;return o.a.createElement(N.a,{trigger:this.props.children,open:this.state.modalOpen,onClose:this.onClose,onOpen:this.onOpen},o.a.createElement(I.a,{link:!0,size:"large",name:"cancel",style:{float:"right",margin:"10px"},onClick:this.onClose}),o.a.createElement(N.a.Header,null,"Produto"),o.a.createElement(N.a.Content,null,o.a.createElement(N.a.Description,null,o.a.createElement(A.a,null,o.a.createElement(ne.a,null,o.a.createElement(ne.a.Column,null,o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Field,{width:8,control:oe.a,label:"Categoria",name:"nvCategoria",options:r.map(function(e){return{key:e._id,text:e.nome,value:e._id}}),onChange:this.onCategoriaSelected}),o.a.createElement(A.a.Input,{width:8,type:"number",label:"Valor",name:"valor",value:t,onChange:this.onChange})),o.a.createElement(A.a.Input,{label:"Nome",name:"nome",value:a,onChange:this.onChange}),o.a.createElement(A.a.TextArea,{label:"Descri\xe7\xe3o",name:"descricao",value:n,onChange:this.onChange})))))),o.a.createElement(N.a.Actions,null,o.a.createElement(v.a,{primary:!0,type:"submit",onClick:this.onSalvar},o.a.createElement(I.a,{name:"plus"}),"Salvar")))}}]),a}(o.a.Component),de=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).onGet=function(){K(t.state.id).then(function(e){t.setState(Object(J.a)({},e.data,{id:e.data._id}))})},t.onTab=function(e){"detalhe"===e&&t.setState({tabPedido:!0,tabProduto:!1,tabCliente:!1}),"produto"===e&&t.setState({tabPedido:!1,tabProduto:!0,tabCliente:!1}),"cliente"===e&&t.setState({tabPedido:!1,tabProduto:!1,tabCliente:!0})},t.getProdutos=function(e){t.setState({produtos:[].concat(Object(Q.a)(t.state.produtos),[e])})},t.onRemoverProduto=function(e){var a=t.state,n=a.produtos;Y({id:a.id,produtoId:e}).then(function(a){var o=[];n.forEach(function(a){a._id!==e&&o.push(a)}),t.setState({produtos:o})})},t.onUploadProduto=function(e){var a=t.state.produtoId,n=e.target.files[0],o=new FormData;o.append("file",n),Z(o,t.state.id,a).then(function(e){t.onGet()})},t.onUploadProdutoSelect=function(e){t.setState({produtoId:e})},t.onCadastrarCliente=function(){var e=t.state.distribuidorId;t.props.history.push("/distribuidor/".concat(e,"/cadastrar/cliente"))},t.state=Object(_.a)({pedidos:[],produtos:[],clientes:[],id:null,distribuidorId:null,produtoId:null,nome:"",imagemPath:"",tabPedido:!0,tabProduto:!1,tabCliente:!1},"clientes",!1),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.distribuidorId;this.setState({distribuidorId:a}),function(e){return P.get("/pedido/listar/"+e)}(a).then(function(a){return e.setState(Object(J.a)({pedidos:a.data.pedidos||[]},a.data.distribuidor,{id:a.data.distribuidor._id})),ee(a.data.distribuidor._id)}).then(function(a){e.setState({clientes:a.data||[]})})}},{key:"onPedidoDetalhe",value:function(e){this.props.history.push("/distribuidor/"+this.state.distribuidorId+"/pedido/"+e+"/detalhe")}},{key:"onClienteDetalhe",value:function(e){this.props.history.push("/distribuidor/"+this.state.distribuidorId+"/detalhe/cliente/"+e)}},{key:"render",value:function(){var e=this,a=this.state,t=a.pedidos,n=a.imagemPath,r=a.nome,l=a.tabPedido,i=a.tabProduto,c=a.produtos,m=a.id,d=a.tabCliente,u=a.clientes;return o.a.createElement("div",null,o.a.createElement(C.a,{as:"h2",style:{marginTop:20,marginLeft:20}},r),o.a.createElement(y.a,{src:n?"".concat(j,"/").concat(n):"https://react.semantic-ui.com/images/wireframe/square-image.png",fluid:!0}),o.a.createElement(b.a,null,o.a.createElement("br",null),o.a.createElement(v.a.Group,{floated:"left"},l?o.a.createElement(v.a,{onClick:function(){return e.onTab("detalhe")},positive:!0},"Pedidos"):o.a.createElement(v.a,{onClick:function(){return e.onTab("detalhe")}},"Pedidos"),i?o.a.createElement(v.a,{onClick:function(){return e.onTab("produto")},positive:!0},"Produtos"):o.a.createElement(v.a,{onClick:function(){return e.onTab("produto")}},"Produtos"),d?o.a.createElement(v.a,{onClick:function(){return e.onTab("cliente")},positive:!0},"Clientes"):o.a.createElement(v.a,{onClick:function(){return e.onTab("cliente")}},"Clientes")),o.a.createElement("br",null),l&&o.a.createElement("div",{style:{paddingTop:30}},o.a.createElement(C.a,{as:"h3"},"Pedidos"),0==t.length?o.a.createElement(q.a,{info:!0},o.a.createElement(q.a.Header,null,"Sem pedidos solicitados.")):o.a.createElement(S.a.Group,{divided:!0,unstackable:!0},(t||[]).map(function(a){return o.a.createElement(S.a,null,o.a.createElement(S.a.Content,null,a.cliente?o.a.createElement(S.a.Header,{as:"a"},"Cliente: ",a.cliente.nome):o.a.createElement(S.a.Header,{as:"a"},"Cliente ID: ",a.clienteId),o.a.createElement(S.a.Meta,null,"Data da solicita\xe7\xe3o: ",new Date(a.createdAt).toLocaleDateString("en-GB")),o.a.createElement(S.a.Description,null,"Quantidade de produtos: ",a.quantidade,o.a.createElement("br",null),"Valor total: R$ ",a.valorTotal,a.cliente&&o.a.createElement("div",null,o.a.createElement("br",null),"Telefone: ",a.cliente.celular,o.a.createElement("br",null),"Endere\xe7o: ",a.cliente.endereco.nomeEndereco,", ",a.cliente.endereco.numero," - ",a.cliente.endereco.complemento,o.a.createElement("br",null),a.cliente.endereco.bairro," - ",a.cliente.endereco.cep,o.a.createElement("br",null),a.cliente.endereco.cidade," - ",a.cliente.endereco.estado)),o.a.createElement(S.a.Extra,null,o.a.createElement(v.a,{primary:!0,floated:"left",onClick:function(){return e.onPedidoDetalhe(a._id)}},o.a.createElement(I.a,{name:"list layout"})," Detalhes dos produtos"))))}))),i&&o.a.createElement("div",{style:{paddingTop:30}},o.a.createElement(ce,{getProdutos:this.getProdutos,id:m},o.a.createElement(v.a,{floated:"left",primary:!0,icon:!0},o.a.createElement(I.a,{name:"plus"})," Adicionar produto")),0==c.length?o.a.createElement(q.a,{info:!0,style:{marginTop:50}},o.a.createElement(q.a.Header,null,"Nenhum produto adicionado.")):o.a.createElement(S.a.Group,{divided:!0,unstackable:!0},(c||[]).map(function(a){return o.a.createElement(S.a,null,o.a.createElement(S.a.Content,null,o.a.createElement(S.a.Image,{size:"tiny",src:a.imagemPath?"".concat(j,"/").concat(a.imagemPath):"https://react.semantic-ui.com/images/wireframe/square-image.png"}),o.a.createElement(S.a.Header,{style:{padding:10}},o.a.createElement("br",null),a.nome,o.a.createElement("small",null," - ",a.categoria.nome),o.a.createElement("br",null),o.a.createElement("small",null,"R$ ",a.valor)),o.a.createElement(v.a.Group,{floated:"right",vertical:!0},o.a.createElement(me,{get:e.onGet,produto:a,distribuidorId:m},o.a.createElement(v.a,{floated:"right",primary:!0,icon:!0},o.a.createElement(I.a,{name:"edit"}))),o.a.createElement(v.a,{floated:"right",icon:!0,onClick:function(){return e.onUploadProdutoSelect(a._id),e.fileInput.click()}},o.a.createElement(I.a,{name:"camera"})),o.a.createElement("input",{type:"file",style:{display:"none"},onChange:e.onUploadProduto,ref:function(a){e.fileInput=a}}),o.a.createElement(v.a,{floated:"right",color:"red",icon:!0,onClick:function(){return e.onRemoverProduto(a._id)}},o.a.createElement(I.a,{name:"cancel"}))),o.a.createElement(S.a.Description,null,o.a.createElement("p",null,a.descricao))))}))),d&&o.a.createElement("div",{style:{paddingTop:30}},o.a.createElement(v.a,{floated:"left",primary:!0,icon:!0,onClick:this.onCadastrarCliente},o.a.createElement(I.a,{name:"plus"})," Cadastrar cliente"),0==u.length?o.a.createElement(q.a,{info:!0,style:{marginTop:50}},o.a.createElement(q.a.Header,null,"Nenhum cliente cadastrado.")):o.a.createElement(S.a.Group,{divided:!0,unstackable:!0,style:{marginTop:50}},(u||[]).map(function(a){return o.a.createElement(S.a,null,o.a.createElement(S.a.Image,{size:"tiny",src:a.imagemPath?"".concat(j,"/").concat(a.imagemPath):"https://react.semantic-ui.com/images/wireframe/square-image.png"}),o.a.createElement(S.a.Content,null,o.a.createElement(S.a.Header,null,a.nome),o.a.createElement(S.a.Description,null,o.a.createElement("p",null,"E-mail: ",a.email),o.a.createElement("p",null,"Telefone: ",a.telefone)),o.a.createElement(S.a.Extra,null,o.a.createElement(v.a,{primary:!0,floated:"left",onClick:function(){return e.onClienteDetalhe(a._id)}},o.a.createElement(I.a,{name:"list layout"})," Detalhes do cliente"))))})))))}}]),a}(o.a.Component),ue=Object(f.a)(de),se=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).onPedido=t.onPedido.bind(Object(B.a)(Object(B.a)(t))),t.onFinalizar=t.onFinalizar.bind(Object(B.a)(Object(B.a)(t))),t.state={produtos:[],valorTotal:null,id:null,distribuidorId:null},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params,t=a.distribuidorId,n=a.id;this.setState({distribuidorId:t,id:n}),function(e){return P.get("/pedido/listar/detalhe/"+e)}(n).then(function(a){e.setState({produtos:a.data.produtos})}).catch(function(e){console.log(e)})}},{key:"onPedido",value:function(){this.props.history.push("/distribuidor/"+this.state.distribuidorId+"/pedido")}},{key:"onFinalizar",value:function(){var e,a=this;(e=this.state.id,P.delete("/pedido/remover/"+e)).then(function(){a.onPedido()}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,a=this.state.produtos;return o.a.createElement(b.a,null,o.a.createElement(C.a,{as:"h2",style:{padding:10}},o.a.createElement(v.a,{circular:!0,primary:!0,size:"medium",floated:"left",icon:"angle left",onClick:this.onPedido}),"Produtos"),(a||[]).map(function(e){return o.a.createElement(U.a,null,o.a.createElement(U.a.Item,null,o.a.createElement(y.a,{avatar:!0,src:e.imagemPath?"".concat(j,"/").concat(e.imagemPath):"https://react.semantic-ui.com/images/wireframe/square-image.png"}),o.a.createElement(U.a.Content,null,o.a.createElement(U.a.Header,null,e.nome),o.a.createElement(U.a.Description,null,o.a.createElement("p",null,"Quantidade: ",e.quantidade,o.a.createElement("br",null),"Valor: R$ ",e.valorTotal,o.a.createElement("br",null),e.observacao&&o.a.createElement("div",null,"OBS: ",e.observacao))))))}),o.a.createElement(v.a,{fluid:!0,positive:!0,floated:"right",onClick:function(){return e.onFinalizar()}},"Entrega efetuada"))}}]),a}(o.a.Component),pe=Object(f.a)(se),he=t(471),ge=t(461),Ee=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(ge.a,{pointing:!0,secondary:!0},o.a.createElement(b.a,null,o.a.createElement(ge.a.Item,{as:he.a,to:"/admin",content:"Cliente"}),o.a.createElement(ge.a.Item,{as:he.a,to:"/admin/distribuidor",content:"Distribuidor"}),o.a.createElement(ge.a.Item,{as:he.a,to:"/admin/produto",content:"Produto"}),o.a.createElement(ge.a.Item,{as:he.a,to:"/admin/categoria",content:"Categoria"})))}}]),a}(o.a.Component);function fe(e){return P.get("/cliente/listar/detalhes/"+e)}function be(e){return P.put("/cliente/cadastrar",{distribuidorId:e.distribuidorId,nome:e.nome,cpf:e.cpf,rg:e.rg,email:e.email,telefone:e.telefone,celular:e.celular,nomeEndereco:e.endereco.nomeEndereco,numero:e.endereco.numero,complemento:e.endereco.complemento,bairro:e.endereco.bairro,cep:e.endereco.cep,cidade:e.endereco.cidade,estado:e.endereco.estado})}function Ce(e){return P.post("/cliente/editar/"+e.id,{distribuidorId:e.distribuidorId,nome:e.nome,cpf:e.cpf,rg:e.rg,email:e.email,telefone:e.telefone,celular:e.celular,nomeEndereco:e.endereco.nomeEndereco,numero:e.endereco.numero,complemento:e.endereco.complemento,bairro:e.endereco.bairro,cep:e.endereco.cep,cidade:e.endereco.cidade,estado:e.endereco.estado})}function ve(e){return P.delete("/cliente/remover/"+e)}function Ie(e,a){return P.post("/cliente/upload/"+a,e)}var ye=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={modalOpen:!1,id:null,nome:""},t.onOpen=function(){t.setState(Object(J.a)({modalOpen:!0},t.props.cliente))},t.onClose=function(){t.setState({modalOpen:!1})},t.onRemove=function(){ve(t.state.id).then(function(){t.onClose(),t.props.getCliente()})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(N.a,{trigger:this.props.children,open:this.state.modalOpen,onClose:this.onClose,onOpen:this.onOpen,basic:!0,size:"small"},o.a.createElement(C.a,{icon:"archive",content:"Desativar cliente"}),o.a.createElement(N.a.Content,null,o.a.createElement("p",null,"Tem certeza que deseja desativar o cliente ",this.state.nome,"?")),o.a.createElement(N.a.Actions,null,o.a.createElement(v.a,{basic:!0,color:"green",inverted:!0,onClick:this.onClose},o.a.createElement(I.a,{name:"remove"})," N\xe3o"),o.a.createElement(v.a,{color:"red",inverted:!0,onClick:this.onRemove},o.a.createElement(I.a,{name:"checkmark"})," Sim")))}}]),a}(o.a.Component),Oe=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={clientes:[],distribuidor:null,id:null,tabDetalhe:!0,tabPedido:!1,imagemPath:null},t.get=function(){P.get("/cliente/listar").then(function(e){t.setState({clientes:e.data||[],id:null})})},t.getUpdate=function(e){t.get(),t.setState(Object(J.a)({},e))},t.onCadastrar=function(){t.props.history.push("/admin/cliente/cadastrar")},t.onEditar=function(){t.props.history.push("/admin/cliente/"+t.state.id+"/editar")},t.onSelect=function(e){var a;t.setState(Object(J.a)({id:e._id,distribuidor:e.distribuidor||null},e)),(a=e._id,P.get("/cliente/listar/pedidos/"+a)).then(function(e){t.setState({pedidos:e.data||[]})})},t.onTab=function(){t.setState({tabDetalhe:!t.state.tabDetalhe,tabPedido:!t.state.tabPedido})},t.onUpload=function(e){var a=e.target.files[0],n=new FormData;n.append("file",a),Ie(n,t.state.id).then(function(e){t.get()})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.get()}},{key:"render",value:function(){var e=this,a=this.state,t=a.clientes,n=a.id,r=(a.tabDetalhe,a.tabPedido,a.nome),l=a.cpf,i=a.rg,c=a.email,m=a.telefone,d=a.celular,u=a.endereco,s=(a.pedidos,a.imagemPath),p=a.codId,h=a.distribuidor;return o.a.createElement(b.a,null,o.a.createElement(ne.a,null,o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,null,o.a.createElement(C.a,{as:"h1"},"Clientes",o.a.createElement(v.a,{primary:!0,floated:"right",onClick:this.onCadastrar},o.a.createElement(I.a,{name:"plus"})," Cadastrar")))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{width:5},0!==t.length?o.a.createElement(te.a.Group,null,(t||[]).map(function(a,t){return o.a.createElement("div",null,n===a._id?o.a.createElement(te.a,{tertiary:!0,key:t,style:{cursor:"pointer"},onClick:function(){return e.onSelect(a)}},a.codId," - ",a.nome):o.a.createElement(te.a,{key:t,style:{cursor:"pointer"},onClick:function(){return e.onSelect(a)}},a.codId," - ",a.nome))})):o.a.createElement(C.a,{h:"5"},"Nenhum cliente cadastrado")),o.a.createElement(ne.a.Column,{width:11},n&&o.a.createElement(te.a,null,o.a.createElement(C.a,{as:"h3"},"Dados Pessoais",o.a.createElement(ye,{getCliente:this.get,cliente:{id:n,nome:r}},o.a.createElement(v.a,{color:"red",floated:"right"},o.a.createElement(I.a,{name:"archive"})," Desativar")),o.a.createElement(v.a,{primary:!0,floated:"right",onClick:this.onEditar},o.a.createElement(I.a,{name:"edit"})," Editar"),o.a.createElement(v.a,{secundary:!0,floated:"right",onClick:function(){return e.fileInput.click()}},o.a.createElement(I.a,{name:"camera"})," Alterar Foto Perfil"),o.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onUpload,ref:function(a){e.fileInput=a}})),o.a.createElement("br",null),o.a.createElement(y.a,{src:s?"".concat(j,"/").concat(s):"https://react.semantic-ui.com/images/wireframe/square-image.png",size:"medium",floated:"right",rounded:!0}),o.a.createElement("p",null,"Distribuidor: ",h.razaoSocial),o.a.createElement("p",null,"Nome: ",r),o.a.createElement("p",null,"C\xf3digo: ",p),o.a.createElement("p",null,"CPF: ",l),o.a.createElement("p",null,"RG: ",i),o.a.createElement("p",null,"E-mail: ",c),o.a.createElement("p",null,"Telefone: ",m),o.a.createElement("p",null,"Celular: ",d),o.a.createElement(C.a,{as:"h3"},"Endere\xe7o"),o.a.createElement("p",null,"Endere\xe7o: ",u.nomeEndereco),o.a.createElement("p",null,"N\xfamero: ",u.numero),o.a.createElement("p",null,"Complemento: ",u.complemento),o.a.createElement("p",null,"Bairro: ",u.bairro),o.a.createElement("p",null,"CEP: ",u.cep),o.a.createElement("p",null,"Cidade: ",u.cidade),o.a.createElement("p",null,"Estado: ",u.estado))))))}}]),a}(o.a.Component),Se=t(459),we=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={modalOpen:!1,id:null,razaoSocial:""},t.onOpen=function(){t.setState(Object(J.a)({modalOpen:!0},t.props.distribuidor))},t.onClose=function(){t.setState({modalOpen:!1})},t.onRemove=function(){var e;(e=t.state.id,P.delete("/distribuidor/remover/"+e)).then(function(){t.onClose(),t.props.getDistribuidor()})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(N.a,{trigger:this.props.children,open:this.state.modalOpen,onClose:this.onClose,onOpen:this.onOpen,basic:!0,size:"small"},o.a.createElement(C.a,{icon:"archive",content:"Desativar cliente"}),o.a.createElement(N.a.Content,null,o.a.createElement("p",null,"Tem certeza que deseja desativar o distribuidor ",this.state.razaoSocial,"?")),o.a.createElement(N.a.Actions,null,o.a.createElement(v.a,{basic:!0,color:"green",inverted:!0,onClick:this.onClose},o.a.createElement(I.a,{name:"remove"})," N\xe3o"),o.a.createElement(v.a,{color:"red",inverted:!0,onClick:this.onRemove},o.a.createElement(I.a,{name:"checkmark"})," Sim")))}}]),a}(o.a.Component),ke=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={id:null,distribuidores:[],produtos:[],pedidos:[],clientes:[],produtoId:null,clienteId:null,tabDetalhe:!0,tabProduto:!1,tabPedido:!1,tabCliente:!1,imagemPath:null,activeIndex:0},t.get=function(){W().then(function(e){t.setState({distribuidores:e.data,id:null})})},t.getProdutos=function(e){t.setState({produtos:[].concat(Object(Q.a)(t.state.produtos),[e])})},t.onCadastrar=function(){t.props.history.push("/admin/distribuidor/cadastrar")},t.onEditar=function(){t.props.history.push("/admin/distribuidor/"+t.state.id+"/editar")},t.onSelect=function(e){var a;t.setState(Object(J.a)({},e,{id:e._id,produtos:e.produtos})),(a=e._id,P.get("/distribuidor/listar/pedido/"+a)).then(function(e){t.setState({pedidos:e.data})}),ee(e._id).then(function(e){t.setState({clientes:e.data})})},t.onTab=function(e){"detalhe"===e&&t.setState({tabDetalhe:!0,tabProduto:!1,tabPedido:!1,tabCliente:!1}),"produto"===e&&t.setState({tabDetalhe:!1,tabProduto:!0,tabPedido:!1,tabCliente:!1}),"pedido"===e&&t.setState({tabDetalhe:!1,tabProduto:!1,tabPedido:!0,tabCliente:!1}),"cliente"===e&&t.setState({tabDetalhe:!1,tabProduto:!1,tabPedido:!1,tabCliente:!0})},t.onUpload=function(e){var a=e.target.files[0],n=new FormData;n.append("file",a),X(n,t.state.id).then(function(e){t.get()})},t.onUploadProduto=function(e){var a=t.state.produtoId,n=e.target.files[0],o=new FormData;o.append("file",n),Z(o,t.state.id,a).then(function(e){t.get()})},t.onUploadProdutoSelect=function(e){t.setState({produtoId:e})},t.onUploadCliente=function(e){var a=t.state.clienteId,n=e.target.files[0],o=new FormData;o.append("file",n),Ie(o,a).then(function(e){t.get()})},t.onUploadClienteSelect=function(e){t.setState({clienteId:e})},t.onRemoverProduto=function(e){var a=t.state,n=a.produtos;Y({id:a.id,produtoId:e}).then(function(a){var o=[];n.forEach(function(a){a._id!==e&&o.push(a)}),t.setState({produtos:o})})},t.onAtivar=function(e){var a;(a=e,P.post("/distribuidor/ativar/"+a)).then(function(e){t.get()})},t.onCadastrarCliente=function(){t.props.history.push("/admin/distribuidor/"+t.state.id+"/cliente/cadastrar")},t.onEditarCliente=function(e){t.props.history.push("/admin/distribuidor/"+t.state.id+"/cliente/"+e+"/editar")},t.handleClick=function(e,a){var n=a.index,o=t.state.activeIndex===n?-1:n;t.setState({activeIndex:o})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.get()}},{key:"render",value:function(){var e=this,a=this.state,t=a.distribuidores,n=a.id,r=a.tabDetalhe,l=a.tabProduto,i=a.imagemPath,c=a.produtos,m=a.activeIndex,d=a.tabPedido,u=a.tabCliente,s=a.nome,p=a.codId,h=a.razaoSocial,g=a.cnpj,E=a.telefone,f=a.responsavel,O=a.endereco,w=a.dadosPagamento,k=a.pedidos,P=a.clientes,D=(a.pagamento,a.categoria),R=a.active;return o.a.createElement(b.a,null,o.a.createElement(ne.a,null,o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,null,o.a.createElement(C.a,{as:"h1"},"Distribuidores",o.a.createElement(v.a,{primary:!0,floated:"right",onClick:this.onCadastrar},o.a.createElement(I.a,{name:"plus"})," Cadastrar")))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{width:5},0!==t.length?o.a.createElement(te.a.Group,null,(t||[]).map(function(a,t){return o.a.createElement("div",null,n===a._id?o.a.createElement(te.a,{tertiary:!0,key:t,style:{cursor:"pointer"},onClick:function(){return e.onSelect(a)}},a.codId," - ",a.nome):o.a.createElement(te.a,{key:t,style:{cursor:"pointer"},onClick:function(){return e.onSelect(a)}},a.codId," - ",a.nome))})):o.a.createElement(C.a,{h:"5"},"Nenhum distribuidor cadastrado")),o.a.createElement(ne.a.Column,{width:11},n&&o.a.createElement("div",null,o.a.createElement(v.a.Group,{floated:"left"},r?o.a.createElement(v.a,{onClick:function(){return e.onTab("detalhe")},positive:!0},"Detalhes"):o.a.createElement(v.a,{onClick:function(){return e.onTab("detalhe")}},"Detalhes"),l?o.a.createElement(v.a,{onClick:function(){return e.onTab("produto")},positive:!0},"Produtos"):o.a.createElement(v.a,{onClick:function(){return e.onTab("produto")}},"Produtos"),d?o.a.createElement(v.a,{onClick:function(){return e.onTab("pedido")},positive:!0},"Pedidos"):o.a.createElement(v.a,{onClick:function(){return e.onTab("pedido")}},"Pedidos"),u?o.a.createElement(v.a,{onClick:function(){return e.onTab("cliente")},positive:!0},"Clientes"):o.a.createElement(v.a,{onClick:function(){return e.onTab("cliente")}},"Clientes")),o.a.createElement("br",null),r&&o.a.createElement(te.a,null,o.a.createElement(C.a,{as:"h3"},"Empresa",R?o.a.createElement(we,{getDistribuidor:this.get,distribuidor:{id:n,razaoSocial:h}},o.a.createElement(v.a,{color:"red",floated:"right"},o.a.createElement(I.a,{name:"archive"})," Desativar")):o.a.createElement(v.a,{positive:!0,floated:"right",onClick:function(){return e.onAtivar(n)}},o.a.createElement(I.a,{name:"check"})," Ativar"),o.a.createElement(v.a,{primary:!0,floated:"right",onClick:this.onEditar},o.a.createElement(I.a,{name:"edit"})," Editar"),o.a.createElement(v.a,{secundary:!0,floated:"right",onClick:function(){return e.fileInput.click()}},o.a.createElement(I.a,{name:"camera"})," Alterar Capa"),o.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onUpload,ref:function(a){e.fileInput=a}})),o.a.createElement("br",null),o.a.createElement(y.a,{src:i?"".concat(j,"/").concat(i):"https://react.semantic-ui.com/images/wireframe/square-image.png",size:"medium",floated:"right",rounded:!0}),o.a.createElement("p",null,"Nome: ",s),o.a.createElement("p",null,"C\xf3digo: ",p),o.a.createElement("p",null,"Raz\xe3o Social: ",h),o.a.createElement("p",null,"CNPJ: ",g),o.a.createElement("p",null,"Telefone: ",E),o.a.createElement("p",null,"Categoria: ",D.nome),o.a.createElement(C.a,{as:"h4"},"Respons\xe1vel"),o.a.createElement("p",null,"Nome: ",f.nomeCompleto),o.a.createElement("p",null,"CPF: ",f.cpf),o.a.createElement("p",null,"RG: ",f.rg),o.a.createElement("p",null,"E-mail: ",f.email),o.a.createElement("p",null,"Celular: ",f.celular),o.a.createElement(C.a,{as:"h4"},"Endere\xe7o"),o.a.createElement("p",null,"Endere\xe7o: ",O.nomeEndereco),o.a.createElement("p",null,"N\xfamero: ",O.numero),o.a.createElement("p",null,"Complemento: ",O.complemento),o.a.createElement("p",null,"Bairro: ",O.bairro),o.a.createElement("p",null,"CEP: ",O.cep),o.a.createElement("p",null,"Cidade: ",O.cidade),o.a.createElement("p",null,"Estado: ",O.estado),o.a.createElement(C.a,{as:"h4"},"Pagamento"),o.a.createElement("p",null,"Modelo de pagamento: ",w.categoria.nome),o.a.createElement("p",null,"Valor: ",w.valor),f.nomeCompleto==w.responsavel.nomeCompleto?o.a.createElement(C.a,{as:"h4"},"Os dados de pagamento e o mesmo do respons\xe1vel e endere\xe7o acima."):o.a.createElement("div",null,o.a.createElement(C.a,{as:"h4"},"Pagamento"),o.a.createElement("p",null,"Nome: ",w.responsavel.nomeCompleto),o.a.createElement("p",null,"CPF: ",w.responsavel.cpf),o.a.createElement("p",null,"RG: ",w.responsavel.rg),o.a.createElement("p",null,"E-mail: ",w.responsavel.email),o.a.createElement("p",null,"Celular: ",w.responsavel.celular),o.a.createElement("p",null,"Endere\xe7o: ",w.endereco.nomeEndereco),o.a.createElement("p",null,"N\xfamero: ",w.endereco.numero),o.a.createElement("p",null,"Complemento: ",w.endereco.complemento),o.a.createElement("p",null,"Bairro: ",w.endereco.bairro),o.a.createElement("p",null,"CEP: ",w.endereco.cep),o.a.createElement("p",null,"Cidade: ",w.endereco.cidade),o.a.createElement("p",null,"Estado: ",w.endereco.estado))),l&&o.a.createElement(te.a,{style:{marginRight:30}},o.a.createElement(C.a,{as:"h3"},o.a.createElement(ce,{getProdutos:this.getProdutos,id:n},o.a.createElement(v.a,{primary:!0,floated:"right",size:"tiny"},o.a.createElement(I.a,{name:"plus"})," Adicionar")),"Produtos"),0!==c.length?o.a.createElement(Se.a,null,(c||[]).map(function(a,t){return o.a.createElement("div",null,o.a.createElement(Se.a.Title,{active:m===t,index:t,onClick:e.handleClick},o.a.createElement(I.a,{name:"dropdown"})," ",o.a.createElement("strong",null,a.nome)),o.a.createElement(Se.a.Content,{active:m===t,style:{marginBottom:20}},o.a.createElement(y.a,{src:a.imagemPath?"".concat(j,"/").concat(a.imagemPath):"https://react.semantic-ui.com/images/wireframe/square-image.png",size:"tiny",floated:"left",rounded:!0}),a.nome," - ",a.categoria.nome,o.a.createElement("br",null),"R$: ",a.valor,o.a.createElement("br",null),a.descricao,o.a.createElement("br",null),o.a.createElement(v.a,{color:"red",floated:"right",onClick:function(){return e.onRemoverProduto(a._id)}},o.a.createElement(I.a,{name:"cancel"})," Retirar"),o.a.createElement(me,{get:e.get,produto:a,distribuidorId:n},o.a.createElement(v.a,{primary:!0,floated:"right"},o.a.createElement(I.a,{name:"edit"})," Editar")),o.a.createElement(v.a,{secundary:!0,floated:"right",onClick:function(){return e.onUploadProdutoSelect(a._id),e.fileInput.click()}},o.a.createElement(I.a,{name:"camera"})," Alterar foto"),o.a.createElement("input",{type:"file",style:{display:"none"},onChange:e.onUploadProduto,ref:function(a){e.fileInput=a}}),o.a.createElement("br",null)))})):o.a.createElement(C.a,{as:"h4"},"Nenhum produto adicionado")),d&&o.a.createElement(te.a,null,o.a.createElement(C.a,{as:"h3"},"Pedidos"),o.a.createElement("div",null,0!==k.length?o.a.createElement(Se.a,null,(k||[]).map(function(a,t){return o.a.createElement("div",null,o.a.createElement(Se.a.Title,{active:m===t,index:t,onClick:e.handleClick},o.a.createElement(I.a,{name:"dropdown"}),o.a.createElement("strong",null,o.a.createElement("small",{style:{fontSize:15}},"Data da solicita\xe7\xe3o: ",new Date(a.createdAt).toLocaleDateString("en-GB"))," |",o.a.createElement("small",{style:{fontSize:15}}," ValorTotal de R$ ",a.valorTotal)," |",a.cliente?o.a.createElement("small",{style:{fontSize:15}}," Cliente: ",a.cliente.nome):o.a.createElement("small",{style:{fontSize:15}}," Cliente Id: ",a.clienteId)," |",a.entrega?o.a.createElement("small",{style:{color:"green",fontSize:15}}," Pedido entregue"):o.a.createElement("small",{style:{color:"red",fontSize:15}}," Pedido n\xe3o foi entregue"))),o.a.createElement(Se.a.Content,{active:m===t},o.a.createElement(S.a.Group,{divided:!0,unstackable:!0},(a.produtos||[]).map(function(e,a){var t;return o.a.createElement("div",null,o.a.createElement(S.a.Content,{style:{marginBottom:50}},o.a.createElement(S.a.Image,(t={size:"tiny",src:e.imagemPath?"".concat(j,"/").concat(e.imagemPath):"https://react.semantic-ui.com/images/wireframe/square-image.png"},Object(_.a)(t,"size","tiny"),Object(_.a)(t,"floated","left"),Object(_.a)(t,"rounded",!0),t)),o.a.createElement(S.a.Header,null,e.nome,o.a.createElement("br",null),"R$ ",e.valor),o.a.createElement(S.a.Description,null,o.a.createElement("p",null,e.descricao))))}))))})):o.a.createElement(C.a,{as:"h4"},"Nenhum pedido solicitado."))),u&&o.a.createElement(te.a,null,o.a.createElement(C.a,{as:"h3"},o.a.createElement(v.a,{primary:!0,floated:"right",size:"tiny",onClick:this.onCadastrarCliente},o.a.createElement(I.a,{name:"plus"})," Cadastrar"),"Clientes"),o.a.createElement("div",null,0!==P.length?o.a.createElement(Se.a,null,(P||[]).map(function(a,t){return o.a.createElement("div",null,o.a.createElement(Se.a.Title,{active:m===t,index:t,onClick:e.handleClick},o.a.createElement(I.a,{name:"dropdown"}),a.nome),o.a.createElement(Se.a.Content,{active:m===t},o.a.createElement(S.a.Group,{divided:!0,unstackable:!0},o.a.createElement(S.a,null,o.a.createElement(S.a.Image,{size:"tiny",src:a.imagemPath?"".concat(j,"/").concat(a.imagemPath):"https://react.semantic-ui.com/images/wireframe/square-image.png"}),o.a.createElement(S.a.Content,null,o.a.createElement(S.a.Header,null,a.nome),o.a.createElement(S.a.Description,null,o.a.createElement("p",null,"C\xf3digo: ",a.codId),o.a.createElement("p",null,"CPF: ",a.cpf),o.a.createElement("p",null,"RG: ",a.rg),o.a.createElement("p",null,"E-mail: ",a.email),o.a.createElement("p",null,"Telefone: ",a.telefone),o.a.createElement("p",null,"Celular: ",a.celular),o.a.createElement("p",null,"Endere\xe7o: ",O.nomeEndereco),o.a.createElement("p",null,"N\xfamero: ",O.numero),o.a.createElement("p",null,"Complemento: ",O.complemento),o.a.createElement("p",null,"Bairro: ",O.bairro),o.a.createElement("p",null,"CEP: ",O.cep),o.a.createElement("p",null,"Cidade: ",O.cidade),o.a.createElement("p",null,"Estado: ",O.estado)),o.a.createElement(ye,{getCliente:e.get,cliente:{id:a._id,nome:a.nome}},o.a.createElement(v.a,{color:"red",floated:"right"},o.a.createElement(I.a,{name:"archive"})," Desativar")),o.a.createElement(v.a,{primary:!0,floated:"right",onClick:function(){return e.onEditarCliente(a._id)}},o.a.createElement(I.a,{name:"edit"})," Editar"),o.a.createElement(v.a,{secundary:!0,floated:"right",onClick:function(){return e.onUploadClienteSelect(a._id),e.fileInput.click()}},o.a.createElement(I.a,{name:"camera"})," Alterar foto"),o.a.createElement("input",{type:"file",style:{display:"none"},onChange:e.onUploadCliente,ref:function(a){e.fileInput=a}}),o.a.createElement("br",null))))))})):o.a.createElement(C.a,{as:"h4"},"Nenhum cliente cadastrado."))))))))}}]),a}(o.a.Component),Pe=t(450),je=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={id:null,contaId:null,pagamentoId:null,categoriaId:null,nome:"",razaoSocial:"",cnpj:"",telefone:"",login:null,senha:null,nomeEndereco:"",numero:"",complemento:"",bairro:"",cep:"",cidade:"",estado:"",nomeCompleto:"",cpf:"",rg:"",email:"",celular:"",pgNomeCompleto:"",pgCpf:"",pgRg:"",pgEmail:"",pgCelular:"",pgNomeEndereco:"",pgNumero:"",pgComplemento:"",pgCep:"",pgBairro:"",pgCidade:"",pgEstado:"",valor:null,pagamentos:[],pagamento:null,categorias:[],categoria:null,checked:!0,msgError:null,imagemPath:null,image:null,file:null},t.onVoltar=function(){t.props.history.push("/admin/distribuidor")},t.onChange=function(e){t.setState(Object(_.a)({},e.target.name,e.target.value))},t.onChangeImagem=function(e){var a=e.target.files[0];t.setState({image:URL.createObjectURL(a),file:a})},t.toggle=function(){t.setState({checked:!t.state.checked})},t.onPagamentoSelected=function(e,a){var n=a.value;t.setState({pagamento:n})},t.onDistribuidorSelected=function(e,a){var n=a.value;t.setState({categoria:n})},t.onSalvar=function(){var e,a=t.state,n=a.nome,o=a.razaoSocial,r=a.cnpj,l=a.telefone,i=a.nomeCompleto,c=a.cpf,m=a.rg,d=a.email,u=a.celular,s=a.nomeEndereco,p=a.numero,h=a.complemento,g=a.cep,E=a.bairro,f=a.cidade,b=a.estado,C=a.pgNomeCompleto,v=a.pgCpf,I=a.pgRg,y=a.pgEmail,O=a.pgCelular,S=a.pgNomeEndereco,w=a.pgNumero,k=a.pgComplemento,j=a.pgCep,D=a.pgBairro,R=a.pgCidade,T=a.pgEstado,z=a.pagamento,_=a.categoria,N=a.id,A=a.checked,G=a.file,x=a.pagamentoId,V=a.categoriaId,F=a.login,q=a.senha,U=a.valor,B=a.contaId,M=null;M=A?{endereco:{nomeEndereco:s,numero:p,complemento:h,cep:g,bairro:E,cidade:f,estado:b},responsavel:{nomeCompleto:i,cpf:c,rg:m,email:d,celular:u}}:{endereco:{nomeEndereco:S,numero:w,complemento:k,cep:j,bairro:D,cidade:R,estado:T},responsavel:{nomeCompleto:C,cpf:v,rg:I,email:y,celular:O}},z||x?_||V?N?(e={nome:n,razaoSocial:o,cnpj:r,telefone:l,id:N,nomeCompleto:i,cpf:c,rg:m,email:d,celular:u,nomeEndereco:s,numero:p,complemento:h,cep:g,bairro:E,cidade:f,estado:b,pagamentoId:z||x,categoriaId:_||V,login:F,senha:q,pgDados:M,valor:U,contaId:B},P.post("/distribuidor/editar/"+e.id,{nome:e.nome,razaoSocial:e.razaoSocial,cnpj:e.cnpj,telefone:e.telefone,nomeCompleto:e.nomeCompleto,cpf:e.cpf,rg:e.rg,email:e.email,celular:e.celular,nomeEndereco:e.nomeEndereco,numero:e.numero,complemento:e.complemento,cep:e.cep,bairro:e.bairro,cidade:e.cidade,estado:e.estado,pagamentoId:e.pagamentoId,categoriaId:e.categoriaId,pgDados:e.pgDados,valor:e.valor,login:e.login,senha:e.senha,contaId:e.contaId})).then(function(){t.onVoltar()}):function(e){return P.put("/distribuidor/cadastrar",{nome:e.nome,razaoSocial:e.razaoSocial,cnpj:e.cnpj,telefone:e.telefone,nomeCompleto:e.nomeCompleto,cpf:e.cpf,rg:e.rg,email:e.email,celular:e.celular,nomeEndereco:e.nomeEndereco,numero:e.numero,complemento:e.complemento,cep:e.cep,bairro:e.bairro,cidade:e.cidade,estado:e.estado,pagamentoId:e.pagamentoId,categoriaId:e.categoriaId,pgDados:e.pgDados,valor:e.valor,login:e.login,senha:e.senha})}({nome:n,razaoSocial:o,cnpj:r,telefone:l,nomeCompleto:i,cpf:c,rg:m,email:d,celular:u,nomeEndereco:s,numero:p,complemento:h,cep:g,bairro:E,cidade:f,estado:b,pagamentoId:z||x,categoriaId:_||V,login:F||n,senha:q||n,pgDados:M,valor:U}).then(function(e){if(G){var a=new FormData;return a.append("file",G),X(a,e.data)}return null}).then(function(){t.onVoltar()}):t.setState({msgError:"Por favor, selecione a categoria."}):t.setState({msgError:"Por favor, selecione o modelo de pagamento."})},t.img=function(){var e=t.state,a=e.image,n=e.imagemPath;return a?o.a.createElement(y.a,{wrapped:!0,size:"medium",src:a}):n?o.a.createElement(y.a,{wrapped:!0,size:"medium",src:"".concat(j,"/").concat(n)}):o.a.createElement(y.a,{wrapped:!0,size:"medium",src:"https://react.semantic-ui.com/images/wireframe/square-image.png"})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.distribuidorId;a&&K(a).then(function(t){var n,o=t.data;return o.responsavel.nomeCompleto===o.dadosPagamento.responsavel.nomeCompleto?e.setState(Object(J.a)({},o,o.responsavel,o.endereco,{id:o._id,pagamentoId:o.dadosPagamento.categoria._id,valor:o.dadosPagamento.valor,categoriaId:o.categoria._id})):e.setState(Object(J.a)({},o,o.responsavel,o.endereco,{id:o._id,pagamentoId:o.dadosPagamento.categoria._id,valor:o.dadosPagamento.valor,categoriaId:o.categoria._id,pgNomeCompleto:o.dadosPagamento.responsavel.nomeCompleto,pgCpf:o.dadosPagamento.responsavel.cpf,pgRg:o.dadosPagamento.responsavel.rg,pgEmail:o.dadosPagamento.responsavel.email,pgCelular:o.dadosPagamento.responsavel.celular,pgNomeEndereco:o.dadosPagamento.endereco.nomeEndereco,pgNumero:o.dadosPagamento.endereco.numeto,pgComplemento:o.dadosPagamento.endereco.complemento,pgCep:o.dadosPagamento.endereco.cep,pgBairro:o.dadosPagamento.endereco.bairro,pgCidade:o.dadosPagamento.endereco.cidade,pgEstado:o.dadosPagamento.endereco.estado,checked:!1})),n=a,P.get("/distribuidor/listar/conta/"+n)}).then(function(a){var t=a.data;e.setState({login:t.login,senha:t.senha,contaId:t._id})}),ie().then(function(a){e.setState({pagamentos:a.data})}),le().then(function(a){e.setState({categorias:a.data})})}},{key:"render",value:function(){var e=this,a=this.state,t=a.nome,n=a.razaoSocial,r=a.cnpj,l=a.telefone,i=a.categorias,c=(a.categoria,a.nomeCompleto),m=a.cpf,d=a.rg,u=a.email,s=a.celular,p=a.nomeEndereco,h=a.numero,g=a.complemento,E=a.cep,f=a.bairro,y=a.cidade,O=a.estado,S=a.pgNomeCompleto,w=a.pgCpf,k=a.pgRg,P=a.pgEmail,j=a.pgCelular,D=a.pgNomeEndereco,R=a.pgNumero,T=a.pgComplemento,z=a.pgCep,_=a.pgBairro,N=a.pgCidade,G=a.pgEstado,x=a.pagamentos,V=(a.pagamento,a.msgError),F=a.id,U=a.login,B=a.senha,M=a.valor;return o.a.createElement(b.a,null,o.a.createElement(ne.a,null,o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{width:11},o.a.createElement(v.a,{primary:!0,onClick:this.onVoltar},o.a.createElement(I.a,{name:"angle left"})," Voltar")),o.a.createElement(ne.a.Column,{width:5},o.a.createElement(C.a,{as:"h2"},"Novo distribuidor"))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{width:10},o.a.createElement(A.a,{style:{paddingTop:20},onSubmit:this.onSalvar},o.a.createElement(C.a,{as:"h3"},"Empresa"),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:10,label:"Nome",name:"nome",value:t,onChange:this.onChange}),o.a.createElement(A.a.Field,{width:6,control:oe.a,label:"Categoria",name:"categoria",options:i.map(function(e){return{key:e._id,text:e.nome,value:e._id}}),onChange:this.onDistribuidorSelected,required:!0})),o.a.createElement(A.a.Input,{width:16,label:"Raz\xe3o Social",name:"razaoSocial",value:n,onChange:this.onChange}),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:8,label:"CNPJ",name:"cnpj",value:r,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:8,label:"Telefone",name:"telefone",value:l,onChange:this.onChange})),o.a.createElement(C.a,{as:"h3"},"Acesso"),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:8,label:"Login",name:"login",value:U,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:8,label:"Senha",name:"senha",value:B,onChange:this.onChange})),o.a.createElement(C.a,{as:"h3"},"Respons\xe1vel"),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:11,label:"Nome completo",name:"nomeCompleto",value:c,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:5,label:"CPF",name:"cpf",value:m,onChange:this.onChange})),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:5,label:"RG",name:"rg",value:d,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:6,label:"Email",name:"email",value:u,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:5,label:"Celular",name:"celular",value:s,onChange:this.onChange})),o.a.createElement(C.a,{as:"h3"},"Endere\xe7o"),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:10,label:"Endere\xe7o",name:"nomeEndereco",value:p,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:2,label:"N\xfamero",name:"numero",value:h,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:4,label:"Complemento",name:"complemento",value:g,onChange:this.onChange})),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:6,label:"Bairro",name:"bairro",value:f,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:3,label:"CEP",name:"cep",value:E,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:5,label:"Cidade",name:"cidade",value:y,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:2,label:"Estado",name:"estado",value:O,onChange:this.onChange})),o.a.createElement(C.a,{as:"h3"},"Pagamento"),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Field,{width:8,control:oe.a,label:"Modelo de pagamento",name:"pagamento",options:x.map(function(e){return{key:e._id,text:e.nome,value:e._id}}),onChange:this.onPagamentoSelected,required:!0}),o.a.createElement(A.a.Input,{type:"number",width:8,label:"Valor",name:"valor",value:M,onChange:this.onChange})),o.a.createElement(Pe.a,{label:"Os dados de cobran\xe7a s\xe3o os mesmos do respons\xe1vel e endere\xe7o acima?",onChange:this.toggle,checked:this.state.checked}),!this.state.checked&&o.a.createElement("div",{style:{paddingTop:10}},o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:11,label:"Nome completo",name:"pgNomeCompleto",value:S,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:5,label:"CPF",name:"pgCpf",value:w,onChange:this.onChange})),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:5,label:"RG",name:"pgRg",value:k,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:6,label:"Email",name:"pgEmail",value:P,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:5,label:"Celular",name:"pgCelular",value:j,onChange:this.onChange})),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:10,label:"Endere\xe7o",name:"pgNomeEndereco",value:D,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:2,label:"N\xfamero",name:"pgNumero",value:R,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:4,label:"Complemento",name:"pgComplemento",value:T,onChange:this.onChange})),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:6,label:"Bairro",name:"pgBairro",value:_,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:3,label:"CEP",name:"pgCep",value:z,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:5,label:"Cidade",name:"pgCidade",value:N,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:2,label:"Estado",name:"pgEstado",value:G,onChange:this.onChange}))))),o.a.createElement(ne.a.Column,{width:4},this.img(),!F&&o.a.createElement("div",null,o.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onChangeImagem,ref:function(a){e.fileInput=a}}),o.a.createElement(v.a,{attached:"bottom",onClick:function(){return e.fileInput.click()}},"Adicionar Capa")))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{style:{paddingBottom:20}},o.a.createElement(v.a,{primary:!0,type:"submit",onClick:this.onSalvar},o.a.createElement(I.a,{name:"plus"})," Adicionar"),V&&o.a.createElement(q.a,{floated:"left",compact:!0,warning:!0},V)))))}}]),a}(o.a.Component),De=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={modalOpen:!1,id:null,nome:"",descricao:"",valor:null,categorias:[],categoria:null,categoriaId:null,msgError:null,categoria_nome:"",imagemPath:null,image:null,file:null},t.onOpen=function(){var e=Object(J.a)({},t.props.produto);re().then(function(a){e.id?t.setState(Object(J.a)({modalOpen:!0,categorias:a.data||[]},t.props.produto,{imagemPath:t.props.produto.imagemPath?"".concat(j,"/").concat(t.props.produto.imagemPath):null,categoriaId:t.props.produto.categoria._id})):t.setState({categorias:a.data||[],modalOpen:!0,id:null,nome:"",descricao:"",valor:null,categoria:null,msgError:null,categoria_nome:"",imagemPath:null,image:null,file:null})})},t.onClose=function(){t.setState({modalOpen:!1})},t.onChange=function(e){t.setState(Object(_.a)({},e.target.name,e.target.value))},t.onCategoriaSelected=function(e,a){var n=a.value;t.setState({categoria:n})},t.onChangeImagem=function(e){var a=e.target.files[0];t.setState({image:URL.createObjectURL(a),file:a})},t.onSalvar=function(){var e,a=t.state,n=a.id,o=a.nome,r=a.descricao,l=a.valor,i=a.categoria,c=a.file,m=a.categoriaId;i?n?(e={id:n,categoriaId:i||m,nome:o,descricao:r,valor:l},P.post("/produto/editar/"+e.id,{nome:e.nome,descricao:e.descricao,valor:e.valor,categoriaId:e.categoriaId})).then(function(e){t.onClose(),t.setState({msgError:null}),t.props.getProdutos(e.data)}):T({categoriaId:i,nome:o,descricao:r,valor:l}).then(function(e){if(c){var a=new FormData;return a.append("file",c),z(a,e.data)}return null}).then(function(){t.onClose(),t.setState({msgError:null}),t.props.getProdutos()}):t.setState({msgError:"Por favor, selecione a categoria."})},t.img=function(){var e=t.state,a=e.image,n=e.imagemPath;return a?o.a.createElement(y.a,{wrapped:!0,size:"medium",src:a}):n?o.a.createElement(y.a,{wrapped:!0,size:"medium",src:n}):o.a.createElement(y.a,{wrapped:!0,size:"medium",src:"https://react.semantic-ui.com/images/wireframe/square-image.png"})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.id,n=a.nome,r=a.descricao,l=a.valor,i=a.categorias,c=(a.categoria_nome,a.msgError);return o.a.createElement(N.a,{trigger:this.props.children,open:this.state.modalOpen,onClose:this.onClose,onOpen:this.onOpen},o.a.createElement(I.a,{link:!0,size:"large",name:"cancel",style:{float:"right",margin:"10px"},onClick:this.onClose}),o.a.createElement(N.a.Header,null,"Produto"),o.a.createElement(N.a.Content,null,o.a.createElement(N.a.Description,null,o.a.createElement(A.a,{onSubmit:this.onSalvar},o.a.createElement(ne.a,null,o.a.createElement(ne.a.Column,{width:4},this.img(),!t&&o.a.createElement("div",null,o.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onChangeImagem,ref:function(a){e.fileInput=a}}),o.a.createElement(v.a,{attached:"bottom",onClick:function(){return e.fileInput.click()}},"Adicionar foto"))),o.a.createElement(ne.a.Column,{width:12},o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Field,{width:8,control:oe.a,label:"Categoria",name:"categoria",options:i.map(function(e){return{key:e._id,text:e.nome,value:e._id}}),onChange:this.onCategoriaSelected}),o.a.createElement(A.a.Input,{type:"number",width:8,label:"Valor",name:"valor",value:l,onChange:this.onChange})),o.a.createElement(A.a.Input,{label:"Nome",name:"nome",value:n,onChange:this.onChange}),o.a.createElement(A.a.TextArea,{label:"Descri\xe7\xe3o",name:"descricao",value:r,onChange:this.onChange})))))),o.a.createElement(N.a.Actions,null,c&&o.a.createElement(q.a,{floated:"left",compact:!0,warning:!0},c),o.a.createElement(v.a,{primary:!0,type:"submit",onClick:this.onSalvar},o.a.createElement(I.a,{name:"plus"}),"Salvar")))}}]),a}(o.a.Component),Re=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={produtos:[],id:null,imagemPath:null},t.get=function(){R().then(function(e){t.setState({produtos:e.data,id:null})})},t.getUpdate=function(e){t.get(),t.setState(Object(J.a)({},e))},t.onSelect=function(e){t.setState(Object(J.a)({id:e._id},e))},t.onRemover=function(){var e;(e=t.state.id,P.delete("/produto/remover/"+e)).then(function(){t.get(),t.setState({id:null})})},t.onUpload=function(e){var a=e.target.files[0],n=new FormData;n.append("file",a),z(n,t.state.id).then(function(e){t.get()})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.get()}},{key:"render",value:function(){var e=this,a=this.state,t=a.produtos,n=a.id,r=a.nome,l=a.valor,i=a.descricao,c=a.observacao,m=a.categoria,d=a.imagemPath;return o.a.createElement(b.a,null,o.a.createElement(ne.a,null,o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,null,o.a.createElement(C.a,{as:"h1"},"Produtos",o.a.createElement(De,{getProdutos:this.get},o.a.createElement(v.a,{primary:!0,floated:"right"},o.a.createElement(I.a,{name:"plus"})," Cadastrar"))))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{width:5},0!==t.length?o.a.createElement(te.a.Group,null,(t||[]).map(function(a,t){return o.a.createElement("div",null,n===a._id?o.a.createElement(te.a,{tertiary:!0,key:t,style:{cursor:"pointer"},onClick:function(){return e.onSelect(a)}},a.nome,o.a.createElement("br",null),o.a.createElement("small",null,a.categoria.nome)):o.a.createElement(te.a,{key:t,style:{cursor:"pointer"},onClick:function(){return e.onSelect(a)}},a.nome,o.a.createElement("br",null),o.a.createElement("small",null,a.categoria.nome)))})):o.a.createElement(C.a,{h:"5"},"Nenhum produto cadastrado")),o.a.createElement(ne.a.Column,{width:11},n&&o.a.createElement(te.a,null,o.a.createElement(y.a,{src:d?"".concat(j,"/").concat(d):"https://react.semantic-ui.com/images/wireframe/square-image.png",size:"medium",floated:"right",rounded:!0}),o.a.createElement(De,{getProdutos:this.getUpdate,produto:{id:n,nome:r,valor:l,descricao:i,observacao:c,categoria:m,categoria_nome:m.nome,imagemPath:d}},o.a.createElement(v.a,{primary:!0},o.a.createElement(I.a,{name:"edit"})," Editar")),o.a.createElement(v.a,{secundary:!0,onClick:function(){return e.fileInput.click()}},o.a.createElement(I.a,{name:"camera"})," Alterar Foto"),o.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onUpload,ref:function(a){e.fileInput=a}}),o.a.createElement(C.a,{as:"h3"},"Detalhes do produto"),o.a.createElement("p",null,"Nome: ",r),o.a.createElement("p",null,"Valor: R$ ",l),o.a.createElement("p",null,"Categoria: ",m.nome),o.a.createElement("p",null,"Descri\xe7\xe3o: ",i),o.a.createElement(v.a,{color:"red",style:{marginTop:20},onClick:this.onRemover},o.a.createElement(I.a,{name:"trash"})," Excluir"),o.a.createElement("br",null))))))}}]),a}(o.a.Component),Te=t(457),ze=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={modalOpen:!1,id:null,nome:""},t.onOpen=function(){t.setState({modalOpen:!0,id:t.props._id,nome:t.props.nome})},t.onClose=function(){t.setState({modalOpen:!1})},t.onChange=function(e){t.setState(Object(_.a)({},e.target.name,e.target.value))},t.onSalvar=function(){var e,a=t.state,n=a.nome,o=a.id,r=t.props.tipo;o?"produto"===r?(e={id:o,nome:n},P.post("/categoria-produto/editar/"+e.id,{nome:e.nome})).then(function(){t.onClose(),t.props.get()}):"distribuidor"===r?function(e){return P.post("/categoria-distribuidor/editar/"+e.id,{nome:e.nome})}({id:o,nome:n}).then(function(){t.onClose(),t.props.get()}):"pagamento"===r&&function(e){return P.post("/categoria-pagamento/editar/"+e.id,{nome:e.nome})}({id:o,nome:n}).then(function(){t.onClose(),t.props.get()}):"produto"===r?function(e){return P.put("/categoria-produto/cadastrar",{nome:e.nome})}({nome:n}).then(function(){t.onClose(),t.props.get()}):"distribuidor"===r?function(e){return P.put("/categoria-distribuidor/cadastrar",{nome:e.nome})}({nome:n}).then(function(){t.onClose(),t.props.get()}):"pagamento"===r&&function(e){return P.put("/categoria-pagamento/cadastrar",{nome:e.nome})}({nome:n}).then(function(){t.onClose(),t.props.get()})},t.onRemover=function(){var e=t.state.id,a=t.props.tipo;"produto"===a?function(e){return P.delete("/categoria-produto/remover/"+e)}(e).then(function(){t.onClose(),t.props.get()}):"distribuidor"===a?function(e){return P.delete("/categoria-distribuidor/remover/"+e)}(e).then(function(){t.onClose(),t.props.get()}):"pagamento"===a&&function(e){return P.delete("/categoria-pagamento/remover/"+e)}(e).then(function(){t.onClose(),t.props.get()})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(N.a,{trigger:this.props.children,open:this.state.modalOpen,onClose:this.onClose,onOpen:this.onOpen,size:"tiny"},o.a.createElement(I.a,{link:!0,size:"large",name:"cancel",style:{float:"right",margin:"10px"},onClick:this.onClose}),o.a.createElement(N.a.Header,null,"produto"===this.props.tipo&&"Categoria Produto","distribuidor"===this.props.tipo&&"Categoria Distribuidor","pagamento"===this.props.tipo&&"Categoria Pagamento"),o.a.createElement(N.a.Content,null,o.a.createElement(A.a,{onSubmit:this.onSalvar},o.a.createElement(A.a.Input,{label:"Nome",name:"nome",value:this.state.nome,onChange:this.onChange}))),o.a.createElement(N.a.Actions,null,this.state.id&&o.a.createElement(v.a,{color:"red",floated:"left",onClick:this.onRemover},o.a.createElement(I.a,{name:"trash"}),"Excluir"),o.a.createElement(v.a,{primary:!0,type:"submit",onClick:this.onSalvar},o.a.createElement(I.a,{name:"plus"}),"Salvar")))}}]),a}(o.a.Component),_e=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={produtos:null,distribuidores:null,pagamentos:null},t.get=function(){re().then(function(e){t.setState({produtos:e.data})}),le().then(function(e){t.setState({distribuidores:e.data})}),ie().then(function(e){t.setState({pagamentos:e.data})})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.get()}},{key:"render",value:function(){var e=this,a=this.state,t=a.produtos,n=a.distribuidores,r=a.pagamentos;return o.a.createElement(b.a,null,o.a.createElement(ne.a,{columns:"equal"},o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,null,o.a.createElement(C.a,{as:"h1"},"Categorias"))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,null,o.a.createElement(Te.a,{selectable:!0},o.a.createElement(Te.a.Header,null,o.a.createElement(Te.a.Row,null,o.a.createElement(Te.a.HeaderCell,null,o.a.createElement("small",{style:{fontSize:20}},"Produto"),o.a.createElement(ze,{tipo:"produto",get:this.get},o.a.createElement(v.a,{circular:!0,primary:!0,floated:"right",icon:"plus"}))))),o.a.createElement(Te.a.Body,null,(t||[]).map(function(a,t){return o.a.createElement(ze,Object.assign({tipo:"produto",get:e.get},a),o.a.createElement(Te.a.Row,{key:t,style:{cursor:"pointer"}},o.a.createElement(Te.a.Cell,null,a.nome)))})))),o.a.createElement(ne.a.Column,null,o.a.createElement(Te.a,{selectable:!0},o.a.createElement(Te.a.Header,null,o.a.createElement(Te.a.Row,null,o.a.createElement(Te.a.HeaderCell,null,o.a.createElement("small",{style:{fontSize:20}},"Distribuidor"),o.a.createElement(ze,{tipo:"distribuidor",get:this.get},o.a.createElement(v.a,{circular:!0,primary:!0,floated:"right",icon:"plus"}))))),o.a.createElement(Te.a.Body,null,(n||[]).map(function(a,t){return o.a.createElement(ze,Object.assign({tipo:"distribuidor",get:e.get},a),o.a.createElement(Te.a.Row,{key:t,style:{cursor:"pointer"}},o.a.createElement(Te.a.Cell,null,a.nome)))})))),o.a.createElement(ne.a.Column,null,o.a.createElement(Te.a,{selectable:!0},o.a.createElement(Te.a.Header,null,o.a.createElement(Te.a.Row,null,o.a.createElement(Te.a.HeaderCell,null,o.a.createElement("small",{style:{fontSize:20}},"Pagamento"),o.a.createElement(ze,{tipo:"pagamento",get:this.get},o.a.createElement(v.a,{circular:!0,primary:!0,floated:"right",icon:"plus"}))))),o.a.createElement(Te.a.Body,null,(r||[]).map(function(a,t){return o.a.createElement(ze,Object.assign({tipo:"pagamento",get:e.get},a),o.a.createElement(Te.a.Row,{key:t,style:{cursor:"pointer"}},o.a.createElement(Te.a.Cell,null,a.nome)))})))))))}}]),a}(o.a.Component),Ne=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state=Object(_.a)({modalOpen:!1,id:null,nome:"",cpf:"",rg:"",email:"",telefone:"",celular:"",nomeEndereco:"",numero:null,complemento:"",bairro:"",cep:"",cidade:"",estado:"",msgError:null,imagemPath:null,image:null,file:null,distribuidores:[],distribuidor:null,distribuidorId:null},"msgError",null),t.onVoltar=function(){t.props.history.push("/admin")},t.onChange=function(e){t.setState(Object(_.a)({},e.target.name,e.target.value))},t.onChangeImagem=function(e){var a=e.target.files[0];t.setState({image:URL.createObjectURL(a),file:a})},t.onDistribuidorSelected=function(e,a){var n=a.value;t.setState({distribuidor:n})},t.onSalvar=function(){var e=t.state,a=e.id,n=e.nome,o=e.cpf,r=e.rg,l=e.email,i=e.telefone,c=e.celular,m=e.nomeEndereco,d=e.numero,u=e.complemento,s=e.bairro,p=e.cep,h=e.cidade,g=e.estado,E=e.file,f=e.distribuidor,b=e.distribuidorId;f||b?(t.setState({msgError:null}),a?Ce({distribuidorId:f||b,id:a,nome:n,cpf:o,rg:r,email:l,telefone:i,celular:c,endereco:{nomeEndereco:m,numero:d,complemento:u,cep:p,bairro:s,cidade:h,estado:g}}).then(function(){t.onVoltar()}):be({distribuidorId:f,nome:n,cpf:o,rg:r,email:l,telefone:i,celular:c,endereco:{nomeEndereco:m,numero:d,complemento:u,cep:p,bairro:s,cidade:h,estado:g}}).then(function(e){if(E){var a=new FormData;return a.append("file",E),Ie(a,e.data)}return null}).then(function(){t.onVoltar()})):t.setState({msgError:"Por favor, selecione o distribuidor."})},t.img=function(){var e=t.state,a=e.image,n=e.imagemPath;return a?o.a.createElement(y.a,{wrapped:!0,size:"medium",src:a}):n?o.a.createElement(y.a,{wrapped:!0,size:"medium",src:n}):o.a.createElement(y.a,{wrapped:!0,size:"medium",src:"https://react.semantic-ui.com/images/wireframe/square-image.png"})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.clienteId;a&&fe(a).then(function(a){var t=a.data;e.setState(Object(J.a)({},t,t.endereco,{id:t._id,imagemPath:t.imagemPath?"".concat(j,"/").concat(t.imagemPath):null,distribuidorId:t.distribuidor._id}))}),W().then(function(a){e.setState({distribuidores:a.data})})}},{key:"render",value:function(){var e=this,a=this.state,t=a.nome,n=a.cpf,r=a.rg,l=a.email,i=a.celular,c=a.telefone,m=a.id,d=a.msgError,u=a.nomeEndereco,s=a.numero,p=a.complemento,h=a.bairro,g=a.cep,E=a.cidade,f=a.estado,y=a.distribuidores;return o.a.createElement(b.a,null,o.a.createElement(ne.a,null,o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{width:11},o.a.createElement(v.a,{primary:!0,onClick:this.onVoltar},o.a.createElement(I.a,{name:"angle left"})," Voltar")),o.a.createElement(ne.a.Column,{width:5},o.a.createElement(C.a,{as:"h2"},"Novo Cliente"))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{width:10},o.a.createElement(A.a,{style:{paddingTop:20},onSubmit:this.onSalvar},o.a.createElement(C.a,{as:"h3"},"Dados pessoais"),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Field,{width:8,control:oe.a,label:"Distribuidor",name:"distribuidor",options:y.map(function(e){return{key:e._id,text:e.nome,value:e._id}}),onChange:this.onDistribuidorSelected}),o.a.createElement(A.a.Input,{width:8,label:"Nome completo",name:"nome",value:t,onChange:this.onChange})),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:5,label:"CPF",name:"cpf",value:n,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:5,label:"RG",name:"rg",value:r,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:6,label:"Email",name:"email",value:l,onChange:this.onChange})),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:8,label:"Telefone",name:"telefone",value:c,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:8,label:"Celular",name:"celular",value:i,onChange:this.onChange})),o.a.createElement(C.a,{as:"h3"},"Endere\xe7o"),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:10,label:"Endere\xe7o",name:"nomeEndereco",value:u,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:2,label:"N\xfamero",name:"numero",value:s,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:4,label:"Complemento",name:"complemento",value:p,onChange:this.onChange})),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:6,label:"Bairro",name:"bairro",value:h,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:3,label:"CEP",name:"cep",value:g,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:5,label:"Cidade",name:"cidade",value:E,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:2,label:"Estado",name:"estado",value:f,onChange:this.onChange})))),o.a.createElement(ne.a.Column,{width:4},this.img(),!m&&o.a.createElement("div",null,o.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onChangeImagem,ref:function(a){e.fileInput=a}}),o.a.createElement(v.a,{attached:"bottom",onClick:function(){return e.fileInput.click()}},"Adicionar Foto Perfil")))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{style:{paddingBottom:20}},o.a.createElement(v.a,{primary:!0,type:"submit",onClick:this.onSalvar},o.a.createElement(I.a,{name:"plus"})," Adicionar"),d&&o.a.createElement(q.a,{floated:"left",compact:!0,warning:!0},d)))))}}]),a}(o.a.Component);var Ae=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={nome:"",senha:"",msgError:null},t.onChange=function(e){t.setState(Object(_.a)({},e.target.name,e.target.value))},t.onLogin=function(){var e,a=t.state,n=a.nome,o=a.senha;""===n?t.setState({msgError:"Preencher o campo de login."}):""===o?t.setState({msgError:"Preencher o campo de senha."}):(t.setState({msgError:null}),(e={nome:n,senha:o,categoria:"distribuidor"},P.post("/conta/login",{nome:e.nome,senha:e.senha,categoria:e.categoria})).then(function(e){var a=e.data;e.data.error?"conta_invalid"===e.data.error?t.setState({msgError:"Login ou senha incorreto"}):"conta_inactive"===e.data.error?t.setState({msgError:"Sua conta est\xe1 inativa"}):t.setState({msgError:"Login ou senha incorreto"}):a&&a.distribuidor.codId&&(t.props.history.push("/distribuidor/"+a.distribuidor.codId+"/pedido"),t.setState({msgError:null}))}))},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.state,a=e.nome,t=e.senha,n=e.msgError;return o.a.createElement(b.a,{style:{paddingTop:20}},o.a.createElement(C.a,{as:"h2"},"Distribuidor"),o.a.createElement(te.a,null,o.a.createElement(A.a,{style:{paddingTop:20}},o.a.createElement(A.a.Input,{width:16,label:"Login",name:"nome",value:a,onChange:this.onChange}),o.a.createElement(A.a.Input,{type:"password",width:16,label:"Senha",name:"senha",value:t,onChange:this.onChange})),n&&o.a.createElement(q.a,{info:!0},o.a.createElement(q.a.Header,null,n)),o.a.createElement(v.a,{fluid:!0,primary:!0,onClick:this.onLogin,style:{marginTop:20}},"Entrar")))}}]),a}(o.a.Component),Ge=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={modalOpen:!1,id:null,nome:"",cpf:"",rg:"",email:"",telefone:"",celular:"",nomeEndereco:"",numero:null,complemento:"",bairro:"",cep:"",cidade:"",estado:"",imagemPath:null,image:null,file:null,distribuidorCodId:null,distribuidorId:null},t.onVoltar=function(){var e=t.state.distribuidorCodId;t.props.history.push("/distribuidor/".concat(e,"/pedido"))},t.onChange=function(e){t.setState(Object(_.a)({},e.target.name,e.target.value))},t.onChangeImagem=function(e){var a=e.target.files[0];t.setState({image:URL.createObjectURL(a),file:a})},t.onSalvar=function(){var e=t.state,a=e.id,n=e.nome,o=e.cpf,r=e.rg,l=e.email,i=e.telefone,c=e.celular,m=e.nomeEndereco,d=e.numero,u=e.complemento,s=e.bairro,p=e.cep,h=e.cidade,g=e.estado,E=e.file,f=e.distribuidorId;a?Ce({distribuidorId:f,id:a,nome:n,cpf:o,rg:r,email:l,telefone:i,celular:c,endereco:{nomeEndereco:m,numero:d,complemento:u,cep:p,bairro:s,cidade:h,estado:g}}).then(function(){t.onVoltar()}):be({distribuidorId:f,nome:n,cpf:o,rg:r,email:l,telefone:i,celular:c,endereco:{nomeEndereco:m,numero:d,complemento:u,cep:p,bairro:s,cidade:h,estado:g}}).then(function(e){if(E){var a=new FormData;return a.append("file",E),Ie(a,e.data)}return null}).then(function(){t.onVoltar()})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e,a=this,t=this.props.match.params,n=t.distribuidorId,o=t.clienteId;this.setState({distribuidorCodId:n}),o&&fe(o).then(function(e){var t=e.data;a.setState(Object(J.a)({},t,t.endereco,{id:t._id,imagemPath:t.imagemPath?"".concat(j,"/").concat(t.imagemPath):null,distribuidorId:t.distribuidor._id}))}),(e=n,P.get("/distribuidor/listar/codId/"+e)).then(function(e){a.setState({distribuidorId:e.data._id})})}},{key:"render",value:function(){var e=this,a=this.state,t=a.nome,n=a.cpf,r=a.rg,l=a.email,i=a.celular,c=a.telefone,m=a.nomeEndereco,d=a.numero,u=a.complemento,s=a.bairro,p=a.cep,h=a.cidade,g=a.estado,E=a.imagemPath;return o.a.createElement(b.a,null,o.a.createElement(ne.a,null,o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,null,o.a.createElement(C.a,{as:"h2",style:{padding:10}},o.a.createElement(v.a,{circular:!0,primary:!0,size:"medium",floated:"left",icon:"angle left",onClick:this.onVoltar}),"Cliente"))),o.a.createElement(A.a,{style:{paddingTop:20}},o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{width:4},o.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onChangeImagem,ref:function(a){e.fileInput=a}}),o.a.createElement(v.a,{primary:!0,onClick:function(){return e.fileInput.click()}},"Adicionar foto"),o.a.createElement(y.a,{wrapped:!0,size:"medium",src:E||"https://react.semantic-ui.com/images/wireframe/square-image.png"}))),o.a.createElement(ne.a.Row,{style:{paddingTop:20}},o.a.createElement(ne.a.Column,null,o.a.createElement(C.a,{as:"h4"},"Dados pessoais"),o.a.createElement(A.a.Input,{label:"Nome completo",name:"nome",value:t,onChange:this.onChange}),o.a.createElement(A.a.Input,{label:"CPF",name:"cpf",value:n,onChange:this.onChange}),o.a.createElement(A.a.Input,{label:"RG",name:"rg",value:r,onChange:this.onChange}),o.a.createElement(A.a.Input,{label:"Email",name:"email",value:l,onChange:this.onChange}),o.a.createElement(A.a.Input,{label:"Telefone",name:"telefone",value:c,onChange:this.onChange}),o.a.createElement(A.a.Input,{label:"Celular",name:"celular",value:i,onChange:this.onChange}),o.a.createElement(C.a,{as:"h4"},"Endere\xe7o"),o.a.createElement(A.a.Input,{label:"Endere\xe7o",name:"nomeEndereco",value:m,onChange:this.onChange}),o.a.createElement(A.a.Input,{label:"N\xfamero",name:"numero",value:d,onChange:this.onChange}),o.a.createElement(A.a.Input,{label:"Complemento",name:"complemento",value:u,onChange:this.onChange}),o.a.createElement(A.a.Input,{label:"Bairro",name:"bairro",value:s,onChange:this.onChange}),o.a.createElement(A.a.Input,{label:"CEP",name:"cep",value:p,onChange:this.onChange}),o.a.createElement(A.a.Input,{label:"Cidade",name:"cidade",value:h,onChange:this.onChange}),o.a.createElement(A.a.Input,{label:"Estado",name:"estado",value:g,onChange:this.onChange})))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{style:{paddingBottom:20}},o.a.createElement(v.a,{primary:!0,type:"submit",onClick:this.onSalvar},o.a.createElement(I.a,{name:"plus"})," Salvar")))))}}]),a}(o.a.Component),xe=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={id:null,distribuidorId:null,codId:null,nome:"",cpf:"",rg:"",email:"",telefone:"",celular:"",endereco:{}},t.onVoltar=function(){var e=t.state.distribuidorId;t.props.history.push("/distribuidor/".concat(e,"/pedido"))},t.onEditar=function(){var e=t.state,a=e.distribuidorId,n=e.id;t.props.history.push("/distribuidor/".concat(a,"/editar/cliente/").concat(n))},t.onDesativar=function(){ve(t.state.id).then(function(e){t.onVoltar()})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params,t=a.distribuidorId,n=a.clienteId;this.setState({distribuidorId:t}),n&&fe(n).then(function(a){var t=a.data;e.setState(Object(J.a)({},t,{endereco:Object(J.a)({},t.endereco),id:t._id}))})}},{key:"render",value:function(){var e=this,a=this.state,t=a.nome,n=a.cpf,r=a.rg,l=a.email,i=a.celular,c=a.telefone,m=a.endereco,d=a.codId;return o.a.createElement(b.a,null,o.a.createElement(ne.a,null,o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,null,o.a.createElement(C.a,{as:"h2",style:{padding:10}},o.a.createElement(v.a,{circular:!0,primary:!0,size:"medium",floated:"left",icon:"angle left",onClick:this.onVoltar}),"Cliente"))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,null,o.a.createElement("p",null,"Nome: ",t),o.a.createElement("p",null,"C\xf3digo: ",d),o.a.createElement("p",null,"CPF: ",n),o.a.createElement("p",null,"RG: ",r),o.a.createElement("p",null,"E-mail: ",l),o.a.createElement("p",null,"Telefone: ",c),o.a.createElement("p",null,"Celular: ",i),o.a.createElement("p",null,"Endere\xe7o: ",m.nomeEndereco),o.a.createElement("p",null,"N\xfamero: ",m.numero),o.a.createElement("p",null,"Complemento: ",m.complemento),o.a.createElement("p",null,"Bairro: ",m.bairro),o.a.createElement("p",null,"CEP: ",m.cep),o.a.createElement("p",null,"Cidade: ",m.cidade),o.a.createElement("p",null,"Estado: ",m.estado))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,null,o.a.createElement(v.a,{fluid:!0,primary:!0,onClick:function(){return e.onEditar()}},"Editar"))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,null,o.a.createElement(v.a,{fluid:!0,danger:!0,onClick:function(){return e.onDesativar()}},"Desativar")))))}}]),a}(o.a.Component),Ve=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state=Object(_.a)({modalOpen:!1,id:null,nome:"",cpf:"",rg:"",email:"",telefone:"",celular:"",nomeEndereco:"",numero:null,complemento:"",bairro:"",cep:"",cidade:"",estado:"",msgError:null,imagemPath:null,image:null,file:null,distribuidorId:null},"msgError",null),t.onVoltar=function(){t.props.history.push("/admin/distribuidor")},t.onChange=function(e){t.setState(Object(_.a)({},e.target.name,e.target.value))},t.onChangeImagem=function(e){var a=e.target.files[0];t.setState({image:URL.createObjectURL(a),file:a})},t.onSalvar=function(){var e=t.state,a=e.id,n=e.nome,o=e.cpf,r=e.rg,l=e.email,i=e.telefone,c=e.celular,m=e.nomeEndereco,d=e.numero,u=e.complemento,s=e.bairro,p=e.cep,h=e.cidade,g=e.estado,E=e.file,f=e.distribuidorId;a?Ce({distribuidorId:f,id:a,nome:n,cpf:o,rg:r,email:l,telefone:i,celular:c,endereco:{nomeEndereco:m,numero:d,complemento:u,cep:p,bairro:s,cidade:h,estado:g}}).then(function(){t.onVoltar()}):be({distribuidorId:f,nome:n,cpf:o,rg:r,email:l,telefone:i,celular:c,endereco:{nomeEndereco:m,numero:d,complemento:u,cep:p,bairro:s,cidade:h,estado:g}}).then(function(e){if(E){var a=new FormData;return a.append("file",E),Ie(a,e.data)}return null}).then(function(){t.onVoltar()})},t.img=function(){var e=t.state,a=e.image,n=e.imagemPath;return a?o.a.createElement(y.a,{wrapped:!0,size:"medium",src:a}):n?o.a.createElement(y.a,{wrapped:!0,size:"medium",src:n}):o.a.createElement(y.a,{wrapped:!0,size:"medium",src:"https://react.semantic-ui.com/images/wireframe/square-image.png"})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params,t=a.distribuidorId,n=a.clienteId;this.setState({distribuidorId:t}),n&&fe(n).then(function(a){var t=a.data;e.setState(Object(J.a)({},t,t.endereco,{id:t._id,imagemPath:t.imagemPath?"".concat(j,"/").concat(t.imagemPath):null}))})}},{key:"render",value:function(){var e=this,a=this.state,t=a.nome,n=a.cpf,r=a.rg,l=a.email,i=a.celular,c=a.telefone,m=a.id,d=(a.msgError,a.nomeEndereco),u=a.numero,s=a.complemento,p=a.bairro,h=a.cep,g=a.cidade,E=a.estado;a.distribuidores;return o.a.createElement(b.a,null,o.a.createElement(ne.a,null,o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{width:11},o.a.createElement(v.a,{primary:!0,onClick:this.onVoltar},o.a.createElement(I.a,{name:"angle left"})," Voltar")),o.a.createElement(ne.a.Column,{width:5},o.a.createElement(C.a,{as:"h2"},"Novo Cliente"))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{width:10},o.a.createElement(A.a,{style:{paddingTop:20},onSubmit:this.onSalvar},o.a.createElement(C.a,{as:"h3"},"Dados pessoais"),o.a.createElement(A.a.Input,{width:16,label:"Nome completo",name:"nome",value:t,onChange:this.onChange}),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:5,label:"CPF",name:"cpf",value:n,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:5,label:"RG",name:"rg",value:r,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:6,label:"Email",name:"email",value:l,onChange:this.onChange})),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:8,label:"Telefone",name:"telefone",value:c,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:8,label:"Celular",name:"celular",value:i,onChange:this.onChange})),o.a.createElement(C.a,{as:"h3"},"Endere\xe7o"),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:10,label:"Endere\xe7o",name:"nomeEndereco",value:d,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:2,label:"N\xfamero",name:"numero",value:u,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:4,label:"Complemento",name:"complemento",value:s,onChange:this.onChange})),o.a.createElement(A.a.Group,null,o.a.createElement(A.a.Input,{width:6,label:"Bairro",name:"bairro",value:p,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:3,label:"CEP",name:"cep",value:h,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:5,label:"Cidade",name:"cidade",value:g,onChange:this.onChange}),o.a.createElement(A.a.Input,{width:2,label:"Estado",name:"estado",value:E,onChange:this.onChange})))),o.a.createElement(ne.a.Column,{width:4},this.img(),!m&&o.a.createElement("div",null,o.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.onChangeImagem,ref:function(a){e.fileInput=a}}),o.a.createElement(v.a,{attached:"bottom",onClick:function(){return e.fileInput.click()}},"Adicionar Foto Perfil")))),o.a.createElement(ne.a.Row,null,o.a.createElement(ne.a.Column,{style:{paddingBottom:20}},o.a.createElement(v.a,{primary:!0,type:"submit",onClick:this.onSalvar},o.a.createElement(I.a,{name:"plus"})," Adicionar")))))}}]),a}(o.a.Component),Fe=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(h.a,null,o.a.createElement(s.a,null,o.a.createElement(g.a,{path:"/distribuidor",render:function(){return o.a.createElement("div",null,o.a.createElement(g.a,{path:"/distribuidor",component:Ae,exact:!0}),o.a.createElement(g.a,{path:"/distribuidor/:distribuidorId/cliente/:clienteId",component:F,exact:!0}),o.a.createElement(g.a,{path:"/distribuidor/:distribuidorId/cliente/:clienteId/carrinho",component:$}),o.a.createElement(g.a,{path:"/distribuidor/:distribuidorId/pedido",component:ue,exact:!0}),o.a.createElement(g.a,{path:"/distribuidor/:distribuidorId/pedido/:id/detalhe",component:pe}),o.a.createElement(g.a,{path:"/distribuidor/:distribuidorId/cadastrar/cliente",component:Ge,exact:!0}),o.a.createElement(g.a,{path:"/distribuidor/:distribuidorId/editar/cliente/:clienteId",component:Ge}),o.a.createElement(g.a,{path:"/distribuidor/:distribuidorId/detalhe/cliente/:clienteId",component:xe}))}}),o.a.createElement(g.a,{path:"/admin",render:function(){return o.a.createElement("div",null,o.a.createElement(Ee,null),o.a.createElement(g.a,{path:"/admin",component:Oe,exact:!0}),o.a.createElement(g.a,{path:"/admin/cliente/cadastrar",component:Ne,exact:!0}),o.a.createElement(g.a,{path:"/admin/cliente/:clienteId/editar",component:Ne,exact:!0}),o.a.createElement(g.a,{path:"/admin/distribuidor",component:ke,exact:!0}),o.a.createElement(g.a,{path:"/admin/distribuidor/cadastrar",component:je,exact:!0}),o.a.createElement(g.a,{path:"/admin/distribuidor/:distribuidorId/editar",component:je}),o.a.createElement(g.a,{path:"/admin/distribuidor/:distribuidorId/cliente/cadastrar",component:Ve}),o.a.createElement(g.a,{path:"/admin/distribuidor/:distribuidorId/cliente/:clienteId/editar",component:Ve}),o.a.createElement(g.a,{path:"/admin/produto",component:Re,exact:!0}),o.a.createElement(g.a,{path:"/admin/categoria",component:_e,exact:!0}))}}),o.a.createElement(p.a,{exact:!0,to:"/",component:E})))}}]),a}(o.a.Component);l.a.render(o.a.createElement(Fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[249,2,1]]]);
//# sourceMappingURL=main.b474d81a.chunk.js.map